{"version":3,"sources":["../../src/pages/archive-detail/archive-detail.ts","../../src/pages/archive/archive.ts","../../src/pages/stat-category/stat-category.ts","../../src/pages/stat-user/stat-user.ts","../../src/pages/stat-record/stat-record.ts","../../src/pages/category-detail/category-detail.ts","../../src/pages/category-link/category-link.ts","../../src/pages/comment-detail/comment-detail.ts","../../src/pages/nomination-detail/nomination-detail.ts","../../src/pages/image/image.ts","../../src/pages/settle/settle.ts","../../src/pages/nomination/nomination.ts","../../src/pages/user/user.ts","../../src/pages/user-detail/user-detail.ts","../../src/pages/vote/vote.ts","../../src/pages/vote-result/vote-result.ts","../../src/providers/util/util.ts","../../node_modules/@angular/core/esm5 lazy","../../src lazy","../../src/pages/tabs/tabs.ts","../../src/pages/home/home.ts","../../src/pages/avatar/avatar.ts","../../src/pages/top-header/top-header.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/app/app.component.ts","../../src/providers/backend/backend.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { UtilProvider } from '../../providers/util/util';\r\nimport { BackendProvider } from '../../providers/backend/backend';\r\n\r\n/**\r\n * Generated class for the ArchiveDetailPage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-archive-detail',\r\n  templateUrl: 'archive-detail.html',\r\n})\r\nexport class ArchiveDetailPage {\r\n  archiveForm: FormGroup;\r\n  archive: any;\r\n  submitAttempt: boolean = false;\r\n  title: string;\r\n  categories: any[];\r\n  users: any[];\r\n  //awards: any[];\r\n  loseAward: any;\r\n  //report: any;\r\n  awardsAndReport: any;\r\n  loaded: boolean;\r\n  \r\n  nbAwardsByUser: { [key: number]: number; } = {};\r\n\r\n  constructor(public navCtrl: NavController, navParams: NavParams, formBuilder: FormBuilder, public util: UtilProvider, public backend: BackendProvider) {\r\n    this.loaded = false;\r\n    let paramArchive = navParams.get('archive');\r\n    this.categories = navParams.get('categories');\r\n    this.users = navParams.get('users');\r\n    \r\n    if (paramArchive == null) {\r\n      // Création\r\n      this.archive = {\r\n        'id': null,\r\n        'year': '',\r\n        'categoriesIds': null,\r\n        'ranking': null        \r\n      };\r\n      this.loseAward = { 'year': null, 'categoryId': null, 'usersIds': null };\r\n      this.awardsAndReport = {\r\n        'archiveAwards': [this.loseAward],\r\n        'archiveReport': { report: '' }\r\n      };\r\n      this.title = 'Nouvelle archive';\r\n      this.updateNbAwardsByUser();\r\n      this.loaded = true;\r\n    } else {\r\n      // Modification\r\n      this.archive = {\r\n        'id' : paramArchive.id,\r\n        'year': paramArchive.year,\r\n        'categoriesIds': paramArchive.categoriesIds,\r\n        'ranking': paramArchive.ranking\r\n      }\r\n      this.title = 'Modification de l\\'archive';\r\n      this.getAwardsAndReport(paramArchive.year);\r\n    }\r\n    \r\n    this.archiveForm = formBuilder.group({\r\n      year: [this.archive.year, Validators.required],\r\n      categoriesIds: [this.archive.categoriesIds, Validators.required],\r\n      losersIds: [Validators.required],\r\n    });\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n  }\r\n\r\n  save() {\r\n    this.submitAttempt = true;\r\n    if (this.archiveForm.valid) {\r\n      this.updateAwardsAndReportYear();\r\n      if (this.archive.id != null) {\r\n        // Mise à jour\r\n        this.backend.updateArchiveWithAwardsAndReport({ archive: this.archive, archiveAwards: this.awardsAndReport.archiveAwards, archiveReport: this.awardsAndReport.archiveReport }).subscribe(\r\n          () => {\r\n            this.navCtrl.pop();\r\n          },\r\n          error => {\r\n            this.util.handleError(error);\r\n          });\r\n      } else {\r\n        // Création\r\n        this.backend.addArchiveWithAwardsAndReport({ archive: this.archive, archiveAwards: this.awardsAndReport.archiveAwards, archiveReport: this.awardsAndReport.archiveReport }).subscribe(\r\n          () => {\r\n            this.navCtrl.pop();\r\n          },\r\n          error => {\r\n            this.util.handleError(error);\r\n          });\r\n      }\r\n    }    \r\n  }\r\n  \r\n  /**\r\n   * Retourne la récompense pour une catégorie.\r\n   */\r\n  getAwardByCategory(categoryId) {\r\n    for (let award of this.awardsAndReport.archiveAwards) {\r\n      if (award.categoryId == categoryId) {\r\n        return award;\r\n      }\r\n    }\r\n    // Récompense non-trouvée : on la crée\r\n    let award = { year: null, categoryId: categoryId, usersIds: null, reason: null };\r\n    this.awardsAndReport.archiveAwards.push(award);\r\n    return award;\r\n  }\r\n  \r\n  /**\r\n   * Appel du backend pour récupérer les récompenses et le rapport.\r\n   */\r\n  getAwardsAndReport(year) {\r\n    this.backend.getArchiveAwardsAndReport(year).subscribe(\r\n      data => {\r\n        this.awardsAndReport = data;\r\n        \r\n        // Recherche du lose award\r\n        for (let award of this.awardsAndReport.archiveAwards) {\r\n          if (award.categoryId == null) {\r\n            this.loseAward = award;\r\n            break;\r\n          }\r\n        }\r\n        if (this.loseAward == null) {\r\n          this.loseAward = { 'year': null, 'categoryId': null, 'usersIds': null };\r\n          this.awardsAndReport.archiveAwards.push(this.loseAward);\r\n        }\r\n        \r\n        this.updateNbAwardsByUser();\r\n        this.loaded = true;\r\n      },\r\n      error => {\r\n        this.util.handleError(error);\r\n      });\r\n  }\r\n  \r\n  /*\r\n  getNbAwardsByUser(user) {\r\n    let nbAwards = 0;\r\n    for (let award of this.awards) {\r\n      if (award.categoryId != null && award.usersIds != null && award.usersIds.indexOf(user.id) != -1) {\r\n        nbAwards++;\r\n      }\r\n    }\r\n    return nbAwards;\r\n  }\r\n  */\r\n  \r\n  /**\r\n   * Mise à jour du nombre de récompenses par utilisateur.\r\n   */\r\n  updateNbAwardsByUser() {\r\n    // On initialise à zéro récompense par compétiteur\r\n    this.nbAwardsByUser = {};\r\n    for (let user of this.users) {\r\n      this.nbAwardsByUser[user.id] = 0;\r\n    }\r\n    \r\n    // Parcours des récompenses\r\n    for (let award of this.awardsAndReport.archiveAwards) {\r\n      if (award.categoryId != null && award.usersIds != null) {\r\n        for (let userId of award.usersIds) {\r\n          this.nbAwardsByUser[userId] = this.nbAwardsByUser[userId] + 1;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  \r\n  /**\r\n   * Mise à jour du classement (après sélection par l'utilisateur du Grand Champion)\r\n   */\r\n  updateRanking() {\r\n    this.archive.ranking = {};\r\n    let rank = 1;\r\n    this.archive.ranking[rank] = this.loseAward.usersIds;\r\n    rank += this.loseAward.usersIds.length;\r\n    let maxNbAwards = this.nbAwardsByUser[this.loseAward.usersIds[0]];\r\n    for (let nbAwards = maxNbAwards; nbAwards >= 0; nbAwards--) {\r\n      // Qui parmi les compétiteurs a le nombre courant de récompenses, à part les Grands Champions ?\r\n      let currentRankUsers;\r\n      for (let user of this.users) {\r\n        let nbAwardsOfOneUser = this.nbAwardsByUser[user.id];\r\n        if (nbAwardsOfOneUser == nbAwards && this.loseAward.usersIds.indexOf(user.id) == -1) {\r\n          currentRankUsers = this.archive.ranking[rank];\r\n          if (currentRankUsers == null) {\r\n            currentRankUsers = [];\r\n            this.archive.ranking[rank] = currentRankUsers;\r\n          }\r\n          currentRankUsers.push(user.id);\r\n        }\r\n      }\r\n      // A-t-on trouvé des compétiteurs ?\r\n      if (currentRankUsers != null) {\r\n        rank += currentRankUsers.length;\r\n      }\r\n    }\r\n  }\r\n  \r\n  getRankingKeys() {\r\n    return Object.keys(this.archive.ranking);\r\n  }\r\n  \r\n  /**\r\n   * Mise à jour de la liste des récompenses possibles (après sélection par l'utilisateur des catégories possibles)\r\n   */\r\n  updateCategories() {\r\n    this.awardsAndReport.archiveAwards = [];\r\n    for (let categoryId of this.archive.categoriesIds) {\r\n      this.awardsAndReport.archiveAwards.push({ year: null, categoryId: categoryId, usersIds: null, reason: null });\r\n    }\r\n    \r\n    this.awardsAndReport.archiveAwards.push(this.loseAward);\r\n  }\r\n  \r\n  /**\r\n   * Mise à jour de l'année dans les récompenses et le rapport.\r\n   */\r\n  updateAwardsAndReportYear() {\r\n    for (let award of this.awardsAndReport.archiveAwards) {\r\n      award.year = this.archive.year;\r\n    }\r\n    this.awardsAndReport.archiveReport.year = this.archive.year;;\r\n  }\r\n  \r\n  cancel() {\r\n    this.navCtrl.pop();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/archive-detail/archive-detail.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, AlertController, ModalController } from 'ionic-angular';\nimport { BackendProvider } from '../../providers/backend/backend';\nimport { UtilProvider } from '../../providers/util/util';\nimport { ArchiveDetailPage } from '../archive-detail/archive-detail';\nimport { StatCategoryPage } from '../stat-category/stat-category';\nimport { StatUserPage } from '../stat-user/stat-user';\nimport { StatRecordPage } from '../stat-record/stat-record';\n//import { DragulaService } from 'ng2-dragula/ng2-dragula';\n\n/**\n * Generated class for the ArchivePage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-archive',\n  templateUrl: 'archive.html',\n})\nexport class ArchivePage {\n  bundle: any;\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, public backend: BackendProvider, public util: UtilProvider,\n    public alertCtrl: AlertController, public modalCtrl: ModalController) {\n  }\n\n  ionViewDidLoad() {\n  }\n\n  ionViewDidEnter() {\n    this.loadArchive();\n  }\n\n  loadArchive() {\n    // Spinner de chargement\n    let loading = this.util.loading('Chargement en cours...');\n\n    // Appel du backend\n    this.backend.getArchiveBundle().subscribe(\n      data => {\n        this.bundle = data;\n        if (this.bundle.archiveUsers == null) {\n          this.bundle.archiveUsers = [];\n        }\n        if (this.bundle.archiveCategories == null) {\n          this.bundle.archiveCategories = [];\n        }\n        if (this.bundle.losersByYear == null) {\n          this.bundle.losersByYear = [];\n        }\n        loading.dismiss();\n      },\n      error => {\n        this.util.handleError(error);\n        loading.dismiss();\n      });\n  }\n\n  // ===== Catégories =====\n\n  addCategory() {\n    let alert = this.alertCtrl.create({\n      title: 'Nouvelle catégorie',\n      inputs: [\n        { name: 'name', placeholder: 'Nom de la catégorie' }\n      ],\n      buttons: [\n        { text: 'Annuler', role: 'cancel' },\n        { text: 'OK', handler: data => { return this.addCategoryBackend(data); } }\n      ]\n    });\n    alert.present();\n  }\n\n  addCategoryBackend(data) {\n    if (data['name'] == null || data['name'] == '') {\n      return false;\n    }\n\n    let category = { id: null, name: data['name'] };\n    this.backend.addArchiveCategory(category).subscribe(\n      data => {\n        // Mise à jour de l'IHM\n        this.bundle.archiveCategories.push(data);\n      },\n      error => {\n        this.util.handleError(error);\n      });\n  }\n\n  editCategory(category) {\n    let alert = this.alertCtrl.create({\n      title: 'Modification de la catégorie',\n      inputs: [\n        { name: 'name', placeholder: 'Nom de la catégorie', value: category.name }\n      ],\n      buttons: [\n        { text: 'Annuler', role: 'cancel' },\n        { text: 'OK', handler: data => { return this.updateCategoryBackend(category, data); } }\n      ]\n    });\n    alert.present();\n  }\n\n  updateCategoryBackend(category, data) {\n    if (data['name'] == null || data['name'] == '') {\n      return false;\n    }\n    category.name = data['name'];\n    this.backend.updateArchiveCategory(category).subscribe(\n      () => {\n        // Mise à jour de l'IHM\n        for (let i = 0; i < this.bundle.archiveCategories.length; i++) {\n          if (this.bundle.archiveCategories[i].id == category.id) {\n            this.bundle.archiveCategories[i] = category;\n            break;\n          }\n        }\n      },\n      error => {\n        this.util.handleError(error);\n      });\n  }\n\n  deleteCategory(event, category) {\n    event.stopPropagation();\n    this.util.confirm(\n      'Suppression de la catégorie',\n      'La suppression de la catégorie entraînera la suppression des archives liées. Etes-vous sûr de vouloir la supprimer ?',\n      this.deleteCategoryBackend.bind(this),\n      category);\n  }\n\n  deleteCategoryBackend(category) {\n    this.backend.deleteArchiveCategory(category).subscribe(\n      () => {\n        // Mise à jour de l'IHM\n        this.loadArchive();\n      },\n      error => {\n        this.util.handleError(error);\n      });\n  }\n\n  // ===== Utilisateurs =====\n\n  addUser() {\n    let alert = this.alertCtrl.create({\n      title: 'Nouveau user',\n      inputs: [\n        { name: 'firstName', placeholder: 'Prénom' },\n        { name: 'lastName', placeholder: 'Nom' },\n        { name: 'firstYear', placeholder: 'Première participation' },\n        { name: 'lastYear', placeholder: 'Dernière participation' }\n      ],\n      buttons: [\n        { text: 'Annuler', role: 'cancel' },\n        { text: 'OK', handler: data => { return this.addUserBackend(data); } }\n      ]\n    });\n    alert.present();\n  }\n\n  addUserBackend(data) {\n    if (!this.checkUserData(data)) {\n      return false;\n    }\n    let user = { id: null, firstName: data['firstName'], lastName: data['lastName'], firstYear: data['firstYear'], lastYear: data['lastYear'] };\n    this.backend.addArchiveUser(user).subscribe(\n      data => {\n        this.bundle.archiveUsers.push(data);\n      },\n      error => {\n        this.util.handleError(error);\n      });\n  }\n\n  editUser(user) {\n    let alert = this.alertCtrl.create({\n      title: 'Modification du compétiteur',\n      inputs: [\n        { name: 'firstName', placeholder: 'Prénom du compétiteur', value: user.firstName },\n        { name: 'lastName', placeholder: 'Nom du compétiteur', value: user.lastName },\n        { name: 'firstYear', placeholder: 'Première participation', value: user.firstYear },\n        { name: 'lastYear', placeholder: 'Dernière participation', value: user.lastYear }\n      ],\n      buttons: [\n        { text: 'Annuler', role: 'cancel' },\n        { text: 'OK', handler: data => { return this.updateUserBackend(user, data); } }\n      ]\n    });\n    alert.present();\n  }\n\n  updateUserBackend(user, data) {\n    if (!this.checkUserData(data)) {\n      return false;\n    }\n    user.firstName = data['firstName'];\n    user.lastName = data['lastName'];\n    user.firstYear = data['firstYear'];\n    user.lastYear = data['lastYear']\n    this.backend.updateArchiveUser(user).subscribe(\n      data => {\n        // Mise à jour de l'IHM\n        for (let i = 0; i < this.bundle.archiveUsers.length; i++) {\n          if (this.bundle.archiveUsers[i].id == user.id) {\n            this.bundle.archiveUsers[i] = user;\n            break;\n          }\n        }\n      },\n      error => {\n        this.util.handleError(error);\n      });\n  }\n\n  checkUserData(data) {\n    if (data['firstName'] == null || data['firstName'] == '') {\n      return false;\n    }\n    if (data['firstYear'] != null && isNaN(data['firstYear'])) {\n      return false;\n    }\n    if (data['lastYear'] != null && isNaN(data['lastYear'])) {\n      return false;\n    }\n    return true;\n  }\n\n  deleteUser(event, user) {\n    event.stopPropagation();\n    this.util.confirm(\n      'Suppression du compétiteur',\n      'La suppression du compétiteur entraînera la suppression de ses récompenses. Etes-vous sûr de vouloir le supprimer ?',\n      this.deleteUserBackend.bind(this),\n      user);\n  }\n\n  deleteUserBackend(user) {\n    this.backend.deleteArchiveUser(user).subscribe(\n      () => {\n        // Mise à jour de l'IHM\n        for (let i = 0; i < this.bundle.archiveUsers.length; i++) {\n          if (this.bundle.archiveUsers[i].id == user.id) {\n            this.bundle.archiveUsers.splice(i, 1);\n            break;\n          }\n        }\n      },\n      error => {\n        this.util.handleError(error);\n      });\n  }\n\n  // ===== Archive =====\n\n  addArchive() {\n    this.navCtrl.push(ArchiveDetailPage, { 'users': this.bundle.archiveUsers, 'categories': this.bundle.archiveCategories });\n  }\n\n  editArchive(archive) {\n    this.navCtrl.push(ArchiveDetailPage, { 'users': this.getRestrictedUsers(archive.year), 'categories': this.bundle.archiveCategories, 'archive': archive });\n  }\n\n  deleteArchive(event, archive) {\n    event.stopPropagation();\n    this.util.confirm('Suppression de l\\'archive', 'Etes-vous sûr de vouloir supprimer l\\'archive ?', this.deleteArchiveBackend.bind(this), archive);\n  }\n\n  deleteArchiveBackend(archive) {\n    this.backend.deleteArchive(archive).subscribe(\n      () => {\n        // Mise à jour de l'IHM\n        for (let i = 0; i < this.bundle.archives.length; i++) {\n          if (this.bundle.archives[i].id == archive.id) {\n            this.bundle.archives.splice(i, 1);\n            break;\n          }\n        }\n      },\n      error => {\n        this.util.handleError(error);\n      });\n  }\n\n  getRestrictedUsers(year) {\n    let restrictedUsers = [];\n    for (let user of this.bundle.archiveUsers) {\n      if ((user.firstYear == null || user.firstYear <= year) && (user.lastYear == null || user.lastYear >= year)) {\n        restrictedUsers.push(user);\n      }\n    }\n\n    return restrictedUsers;\n  }\n\n  getLosersByYear(year) {\n    let usersIds = this.bundle.losersByYear[year];\n    return this.util.getUsersNamesFromList(usersIds, this.bundle.archiveUsers);\n  }\n\n  // ===== Statistiques =====\n\n  statCategory(event, category) {\n    if (event != null) {\n      event.stopPropagation();\n    }\n    let modal = this.modalCtrl.create(StatCategoryPage, { 'category': category, 'users': this.bundle.archiveUsers });\n    modal.present();\n  }\n\n  statCategoryGrandChampion() {\n    let modal = this.modalCtrl.create(StatCategoryPage, { 'category': null, 'users': this.bundle.archiveUsers });\n    modal.present();\n  }\n\n  statUser(event, user) {\n    if (event != null) {\n      event.stopPropagation();\n    }\n    let modal = this.modalCtrl.create(StatUserPage, { 'user': user, 'categories': this.bundle.archiveCategories });\n    modal.present();\n  }\n\n  statRecords() {\n    let modal = this.modalCtrl.create(StatRecordPage, { 'categories': this.bundle.archiveCategories, 'users': this.bundle.archiveUsers });\n    modal.present();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/archive/archive.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, ViewController } from 'ionic-angular';\r\nimport { BackendProvider } from '../../providers/backend/backend';\r\nimport { UtilProvider } from '../../providers/util/util';\r\nimport { Chart } from 'angular-highcharts';\r\nimport * as Highcharts from 'highcharts';\r\n\r\n/**\r\n * Generated class for the StatCategoryPage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-stat-category',\r\n  templateUrl: 'stat-category.html',\r\n})\r\nexport class StatCategoryPage {\r\n  category: any;\r\n  stat: any;\r\n  users: any;\r\n  chart: any;\r\n\r\n  constructor(public navCtrl: NavController, public navParams: NavParams, public viewCtrl: ViewController, public backend: BackendProvider,\r\n    public util: UtilProvider) {\r\n    this.category = this.navParams.get('category');\r\n    this.users = this.navParams.get('users');\r\n    \r\n    // Spinner de chargement\r\n    let loading = this.util.loading('Chargement en cours...');\r\n    \r\n    if (this.category != null) {\r\n      this.backend.getStatCategory(this.category).subscribe(\r\n        data => {\r\n          this.stat = data;\r\n          this.buildChart();\r\n          loading.dismiss();\r\n        },\r\n        error => {\r\n          this.util.handleError(error);\r\n          loading.dismiss();        \r\n        });\r\n    } else {\r\n      // Grand Champion\r\n      this.backend.getStatCategoryGrandChampion().subscribe(\r\n        data => {\r\n          this.stat = data;\r\n          this.buildChart();\r\n          loading.dismiss();\r\n        },\r\n        error => {\r\n          this.util.handleError(error);\r\n          loading.dismiss();        \r\n        });\r\n    }\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n  }\r\n\r\n  dismiss() {\r\n    this.viewCtrl.dismiss();\r\n  }\r\n  \r\n  buildChart() {\r\n    this.chart = new Chart({\r\n      chart: { type: 'pie' },\r\n      title: { text: null },\r\n      credits: { enabled: false },\r\n      tooltip: {\r\n        //pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'\r\n        formatter: function() {\r\n          return '<b>' + this.point.name + '</b>: ' + Highcharts.numberFormat(this.percentage, 1) + ' %';\r\n        }\r\n      },\r\n      series: [\r\n        { /*name: null,*/ data: this.stat.graphicsData }\r\n      ]\r\n    });    \r\n    // this.chart.addPoint({name: 'Other', y: 9});\r\n  }\r\n  \r\n  getWinners() {\r\n    return Object.keys(this.stat.awardsByUser);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/stat-category/stat-category.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ViewController } from 'ionic-angular';\nimport { BackendProvider } from '../../providers/backend/backend';\nimport { UtilProvider } from '../../providers/util/util';\nimport { Chart } from 'angular-highcharts';\nimport * as Highcharts from 'highcharts';\n\n/**\n * Generated class for the StatUserPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-stat-user',\n  templateUrl: 'stat-user.html',\n})\nexport class StatUserPage {\n  user: any;\n  stat: any;\n  categories: any;\n  nbAwards: number = 0;\n  nbCategories: number = 0;\n  divisionChart: any;\n  progressionChart: any;\n  statType: string = 'division';\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, public viewCtrl: ViewController, public backend: BackendProvider,\n    public util: UtilProvider) {\n    this.user = this.navParams.get('user');\n    this.categories = this.navParams.get('categories');\n\n    // Spinner de chargement\n    let loading = this.util.loading('Chargement en cours...');\n\n    this.backend.getStatUser(this.user).subscribe(\n      data => {\n        this.stat = data;\n        this.setTotal();\n        this.buildCharts();\n        loading.dismiss();\n      },\n      error => {\n        this.util.handleError(error);\n        loading.dismiss();\n      });\n  }\n\n  ionViewDidLoad() {\n  }\n\n  dismiss() {\n    this.viewCtrl.dismiss();\n  }\n\n  getWonCategories() {\n    if (this.stat.awardsByCategory == null) {\n      return [];\n    }\n    return Object.keys(this.stat.awardsByCategory);\n  }\n\n  /**\n   * Calcule le total des récompenses et des catégories.\n   */\n  setTotal() {\n    if (this.stat.awardsByCategory != null) {\n      for (let categoryId of Object.keys(this.stat.awardsByCategory)) {\n        if (categoryId != '-1') {\n          this.nbAwards += this.stat.awardsByCategory[categoryId].length;\n          this.nbCategories++;\n        }\n      }\n    }\n  }\n\n  buildCharts() {\n    this.divisionChart = new Chart({\n      chart: { type: 'pie' },\n      title: { text: null },\n      credits: { enabled: false },\n      tooltip: {\n        formatter: function() {\n          return '<b>' + this.point.name + '</b>: ' + Highcharts.numberFormat(this.percentage, 1) + ' %';\n        }\n      },\n      series: [{ data: this.stat.graphicsData }]\n    });\n\n    this.progressionChart = new Chart({\n      title: { text: null },\n      credits: { enabled: false },\n      xAxis: { categories: this.stat.progressionGraphicsData.years },\n      yAxis: {\n        title: { text: null }\n      },\n      plotOptions: {\n        line: {\n            dataLabels: { enabled: true }\n        }\n      },\n      series: [{\n        name: 'Récompenses',\n        data: this.stat.progressionGraphicsData.nbAwards\n      }, {\n        name: 'Classement',\n        data: this.stat.progressionGraphicsData.ranks\n      }]\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/stat-user/stat-user.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ViewController } from 'ionic-angular';\nimport { BackendProvider } from '../../providers/backend/backend';\nimport { UtilProvider } from '../../providers/util/util';\n\n/**\n * Generated class for the StatRecordPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-stat-record',\n  templateUrl: 'stat-record.html',\n})\nexport class StatRecordPage {\n  recordsByCategory: any;\n  users: any;\n  categories: any;\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, public viewCtrl: ViewController, public backend: BackendProvider,\n    public util: UtilProvider) {\n    this.categories = this.navParams.get('categories');\n    this.users = this.navParams.get('users');\n\n    // Spinner de chargement\n    let loading = this.util.loading('Chargement en cours...');\n\n    this.backend.getStatRecords().subscribe(\n      data => {\n        this.recordsByCategory = data['usersAndRecords'];\n        loading.dismiss();\n      },\n      error => {\n        this.util.handleError(error);\n        loading.dismiss();\n      });\n  }\n\n  ionViewDidLoad() {\n  }\n\n  dismiss() {\n    this.viewCtrl.dismiss();\n  }\n\n  getCategoriesIds() {\n    return Object.keys(this.recordsByCategory);\n  }\n\n  getUsersNames(categoryId) {\n    let usersIds = [];\n    let usersAndRecords = this.recordsByCategory[categoryId];\n    for (let userAndRecord of usersAndRecords) {\n      usersIds.push(userAndRecord.userId);\n    }\n    return this.util.getUsersNamesFromList(usersIds, this.users);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/stat-record/stat-record.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, ViewController } from 'ionic-angular';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\n\r\n/**\r\n * Generated class for the CategoryDetailPage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-category-detail',\r\n  templateUrl: 'category-detail.html',\r\n})\r\nexport class CategoryDetailPage {\r\n  categoryForm: FormGroup;\r\n  category: any;\r\n  submitAttempt: boolean = false;\r\n  title: string;\r\n\r\n  constructor(public navCtrl: NavController, public navParams: NavParams, public viewCtrl: ViewController, public formBuilder: FormBuilder) {\r\n    let param = this.navParams.get('category');\r\n    if (param == null) {\r\n      // Création\r\n      this.category = {\r\n        'name': ''\r\n      }\r\n      this.title = 'Nouvelle cat&eacute;gorie';\r\n    } else {\r\n      // Modification\r\n      this.category = {\r\n        'id' : param.id,\r\n        'name' : param.name\r\n      }\r\n      this.title = 'Modification de la cat&eacute;gorie';\r\n    }\r\n        \r\n    this.categoryForm = formBuilder.group({\r\n      name: [this.category.name, Validators.required]\r\n    });\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    console.log('ionViewDidLoad CategoryDetailPage');\r\n  }\r\n\r\n  dismiss() {\r\n    this.viewCtrl.dismiss();\r\n  }\r\n  \r\n  save() {\r\n    this.submitAttempt = true;\r\n    if (this.categoryForm.valid) {\r\n      this.viewCtrl.dismiss(this.category);\r\n    }    \r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/category-detail/category-detail.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, ViewController } from 'ionic-angular';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { BackendProvider } from '../../providers/backend/backend';\r\nimport { UtilProvider } from '../../providers/util/util';\r\n\r\n/**\r\n * Generated class for the CategoryLinkPage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-category-link',\r\n  templateUrl: 'category-link.html',\r\n})\r\nexport class CategoryLinkPage {\r\n  categoriesLinksForm: FormGroup;\r\n  categoriesLinks: any;\r\n  submitAttempt: boolean = false;\r\n\r\n  constructor(public navCtrl: NavController, public navParams: NavParams, formBuilder: FormBuilder, public backend: BackendProvider,\r\n    public util: UtilProvider, public viewCtrl: ViewController) {\r\n      \r\n    this.categoriesLinksForm = formBuilder.group({\r\n      year: ['', Validators.required]\r\n    });\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    let loading = this.util.loading('Chargement en cours...');\r\n    \r\n    this.backend.linkCategories().subscribe(\r\n      data => {\r\n        this.categoriesLinks = data;\r\n        loading.dismiss();\r\n      },\r\n      error => {\r\n        this.util.handleError(error);\r\n        loading.dismiss();        \r\n      });\r\n  }\r\n\r\n  dismiss() {\r\n    this.viewCtrl.dismiss();\r\n  }\r\n  \r\n  save() {\r\n    this.submitAttempt = true;\r\n    if (this.categoriesLinksForm.valid) {\r\n      this.viewCtrl.dismiss(this.categoriesLinks);\r\n    }\r\n  }\r\n  \r\n  getCategoriesIds() {\r\n    return Object.keys(this.categoriesLinks.links);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/category-link/category-link.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, ViewController } from 'ionic-angular';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { BackendProvider } from '../../providers/backend/backend';\r\n\r\n/**\r\n * Generated class for the CommentDetailPage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-comment-detail',\r\n  templateUrl: 'comment-detail.html',\r\n})\r\nexport class CommentDetailPage {\r\n  commentForm: FormGroup;\r\n  comment: any;\r\n  submitAttempt: boolean = false;\r\n  users: any;\r\n  test: any;\r\n  title: string;\r\n\r\n  constructor(public navCtrl: NavController, public navParams: NavParams, public viewCtrl: ViewController, public formBuilder: FormBuilder,\r\n    backend: BackendProvider) {\r\n      \r\n    let paramComment = this.navParams.get('comment');\r\n    if (paramComment == null) {\r\n      // Création\r\n      this.comment = {\r\n        'authorId': backend.getIdentifiedUser().id,\r\n        'content': '',\r\n        'nominationId': this.navParams.get('nomination').id\r\n      }\r\n      this.title = 'Nouveau commentaire';\r\n    } else {\r\n      // Modification\r\n      this.comment = {\r\n        'id' : paramComment.id,\r\n        'authorId': paramComment.authorId,\r\n        'content': paramComment.content,\r\n        'nominationId': paramComment.nominationId\r\n      }\r\n      this.title = 'Modification du commentaire';\r\n    }\r\n        \r\n    this.commentForm = formBuilder.group({\r\n      content: [this.comment.content, Validators.required]\r\n    });\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n  }\r\n\r\n  /**\r\n   * Clic sur le bouton de fermeture.\r\n   */\r\n  dismiss() {\r\n    this.viewCtrl.dismiss();\r\n  }\r\n  \r\n  /**\r\n   * Clic sur le bouton de validation.\r\n   */\r\n  save() {\r\n    this.submitAttempt = true;\r\n    if (this.commentForm.valid) {\r\n      //this.comment['date'] = this.datePipe.transform(new Date(), 'dd/MM/yyyy HH:mm:ss');\r\n      this.viewCtrl.dismiss(this.comment);\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/comment-detail/comment-detail.ts","import { Component, ElementRef, ViewChild } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, ViewController } from 'ionic-angular';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { BackendProvider } from '../../providers/backend/backend';\r\nimport { UtilProvider } from '../../providers/util/util';\r\n\r\n/**\r\n * Generated class for the NominationDetailPage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-nomination-detail',\r\n  templateUrl: 'nomination-detail.html',\r\n})\r\nexport class NominationDetailPage {\r\n  nominationForm: FormGroup;\r\n  nomination: any;\r\n  submitAttempt: boolean = false;\r\n  users: any;\r\n  title: string;\r\n  newImage = null;\r\n  \r\n  @ViewChild('fileInput')\r\n  fileInput: ElementRef;\r\n\r\n  constructor(public navCtrl: NavController, public navParams: NavParams, public viewCtrl: ViewController, public formBuilder: FormBuilder,\r\n    public backend: BackendProvider, public util: UtilProvider) {\r\n      \r\n    let paramNomination = this.navParams.get('nomination');\r\n    if (paramNomination == null) {\r\n      // Création\r\n      let paramCategory = this.navParams.get('category');\r\n      this.nomination = {\r\n        'reason': '',\r\n        'categoryId': paramCategory.id,\r\n        'imageId': null\r\n      }\r\n      this.title = 'Nouvelle nomination (' + paramCategory.name + ')';\r\n    } else {\r\n      // Modification\r\n      this.nomination = {\r\n        'id' : paramNomination.id,\r\n        'reason': paramNomination.reason,\r\n        'usersIds': paramNomination.usersIds,\r\n        'categoryId': paramNomination.categoryId,\r\n        'imageId': paramNomination.imageId\r\n      }\r\n      this.title = 'Modification de la nomination';\r\n    }\r\n        \r\n    this.nominationForm = formBuilder.group({\r\n      reason: [this.nomination.reason, Validators.required],\r\n      usersIds: [this.nomination.usersIds, Validators.required],\r\n      image: null\r\n    });\r\n    \r\n    this.users = backend.getCachedUsers();\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n  }\r\n\r\n  /**\r\n   * Clic sur le bouton de fermeture.\r\n   */\r\n  dismiss() {\r\n    this.viewCtrl.dismiss();\r\n  }\r\n  \r\n  /**\r\n   * Clic sur le bouton de validation.\r\n   */\r\n  save() {\r\n    this.submitAttempt = true;\r\n    if (this.nominationForm.valid) {\r\n      this.viewCtrl.dismiss(this.nomination);\r\n    }\r\n  }\r\n  \r\n  /**\r\n   * Sélection de l'avatar.\r\n   */\r\n  onFileChange(event) {\r\n    let reader = new FileReader();\r\n    if (event.target.files && event.target.files.length > 0) {\r\n      let file = event.target.files[0];\r\n\r\n      reader.readAsDataURL(file);\r\n      reader.onload = () => {\r\n        if (file.size > (1024 * 1024)) {\r\n          console.log('Image trop volumineuse');\r\n          this.util.warning('Fichier trop volumineux', 'La taille du fichier doit &ecirc;tre inférieure à 1 Mo');\r\n        } else {\r\n          this.newImage = reader.result;\r\n        \r\n          let image = reader.result.split(',')[1];\r\n          /*\r\n          this.nominationForm.get('image').setValue({\r\n            filename: file.name,\r\n            filetype: file.type,\r\n            value: image\r\n          });\r\n          */\r\n          this.nomination['image'] = image;\r\n        }        \r\n      };\r\n    }\r\n  }\r\n  \r\n  getNominationImageURL() {\r\n    return this.backend.getNominationImageURL(this.nomination.imageId);\r\n  }\r\n  \r\n  /**\r\n   * Suppression de l'image.\r\n   */\r\n  deleteImage() {\r\n    this.nomination.imageId = null;\r\n    this.nomination['image'] = null;\r\n    this.newImage = null;    \r\n    this.clearFile();\r\n  }\r\n  \r\n  clearFile() {\r\n    //this.nominationForm.get('image').setValue(null);\r\n    this.fileInput.nativeElement.value = '';\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/nomination-detail/nomination-detail.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\r\nimport { BackendProvider } from '../../providers/backend/backend';\r\nimport { UtilProvider } from '../../providers/util/util';\r\n\r\n/**\r\n * Generated class for the ImagePage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-image',\r\n  templateUrl: 'image.html',\r\n})\r\nexport class ImagePage {\r\n  bundle: any;\r\n  nominationsRow: { [key:number]: any } = {};\r\n\r\n  constructor(public navCtrl: NavController, public navParams: NavParams, public backend: BackendProvider, public util: UtilProvider) {\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n  }\r\n\r\n  ionViewDidEnter() {\r\n    // Spinner de chargement\r\n    let loading = this.util.loading('Chargement en cours...');\r\n    \r\n    // Appel du backend\r\n    this.backend.getImageBundle().subscribe(\r\n      data => {\r\n        this.bundle = data;\r\n        this.setNominationsRow(this.bundle.nominations);\r\n        loading.dismiss();\r\n      },\r\n      error => {\r\n        this.util.handleError(error);\r\n        loading.dismiss();        \r\n      });\r\n  }\r\n  \r\n  setNominationsRow(nominations) {\r\n    this.nominationsRow = {};\r\n    let row = 0;\r\n    for (let i = 0; i < nominations.length; i++) {\r\n      let nominationsOfOneRow = this.nominationsRow[row];\r\n      if (nominationsOfOneRow == null) {\r\n        nominationsOfOneRow = [];\r\n        this.nominationsRow[row] = nominationsOfOneRow;\r\n      }\r\n      nominationsOfOneRow.push(nominations[i]);\r\n      if ((i + 1) % 3 == 0) {\r\n        row++;\r\n      }\r\n    }\r\n  }\r\n  \r\n  getRows() {\r\n    return Object.keys(this.nominationsRow);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/image/image.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ViewController } from 'ionic-angular';\nimport { BackendProvider } from '../../providers/backend/backend';\nimport { UtilProvider } from '../../providers/util/util';\n\n/**\n * Generated class for the SettlePage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-settle',\n  templateUrl: 'settle.html',\n})\nexport class SettlePage {\n  categories: any;\n  winnersByCategory: any;\n  decisionsByCategory: any;\n  decisions: any[];\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, public viewCtrl: ViewController, public backend: BackendProvider,\n    public util: UtilProvider) {\n    this.categories = this.navParams.get('categories');\n    this.winnersByCategory = this.navParams.get('winnersByCategory');\n    this.decisionsByCategory = this.navParams.get('decisionsByCategory');\n\n    this.decisions = [];\n    for (let categoryId of this.categories) {\n      this.decisions.push({\n        'categoryId': categoryId,\n        'nominatedId': this.decisionsByCategory != null ? this.decisionsByCategory[categoryId] : null\n      });\n    }\n  }\n\n  ionViewDidLoad() {\n  }\n\n  dismiss() {\n    this.viewCtrl.dismiss();\n  }\n\n  save() {\n    this.viewCtrl.dismiss(this.decisions);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/settle/settle.ts","import { Component, trigger, state, style, animate, transition } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ModalController, Events } from 'ionic-angular';\nimport { CategoryDetailPage } from '../category-detail/category-detail';\nimport { NominationDetailPage } from '../nomination-detail/nomination-detail';\nimport { CommentDetailPage } from '../comment-detail/comment-detail';\nimport { ImagePage } from '../image/image';\nimport { BackendProvider } from '../../providers/backend/backend';\nimport { UtilProvider } from '../../providers/util/util';\n\n/**\n * Generated class for the NominationPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-nomination',\n  templateUrl: 'nomination.html',\n  animations: [\n    trigger('expand', [\n      state('true', style({height: '*'})),\n      state('false', style({height: 0})),\n      transition('true => false', animate(250)),\n      transition('false => true', animate(250))\n    ])\n  ]\n})\nexport class NominationPage {\n  bundle: any;\n  shown: { [key: number]: boolean; } = {}; // Indique quel blocs de catégorie sont ouverts\n  commentsByNominations: any; // Commentaires regroupés par ID de nomination\n  nominationsMap: { [key: number]: any; } = {};\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, public backend: BackendProvider, public modalCtrl: ModalController,\n    public util: UtilProvider, events: Events) {\n\n    events.subscribe('nomination:identified', callback => {\n      // L'utilisateur s'est identifié : on retourne à la création ou l'édition du commentaire\n      this.addComment(null, callback['nomination']);\n    });\n\n    events.subscribe('nomination:email', data => {\n      // L'utilisateur a saisi une adresse e-mail : on retourne à l'envoi des nominations par mail\n      this.sendNominationsByMail(data);\n    });\n  }\n\n  ionViewDidLoad() {\n  }\n\n  ionViewDidEnter() {\n    // Spinner de chargement\n    let loading = this.util.loading('Chargement en cours...');\n\n    // Appel du backend\n    this.backend.getNominationBundle().subscribe(\n      data => {\n        this.bundle = data;\n\n        // Création de la map des nominations par ID pour accéder facilement aux nominations\n        if (this.bundle.nominations != null) {\n          for (let categoryId of Object.keys(this.bundle.nominations)) {\n            for (let nomination of this.bundle.nominations[categoryId]) {\n              this.nominationsMap[nomination.id] = nomination;\n            }\n          }\n\n          // Récupération des commentaires\n          this.getCommentsByNominations();\n        } else {\n          this.bundle.nominations = {};\n          this.commentsByNominations = {};\n        }\n\n        loading.dismiss();\n      },\n      error => {\n        loading.dismiss();\n        this.util.handleError(error);\n      });\n  }\n\n  /**\n   * Clic sur le bouton d'édition d'une catégorie.\n   */\n  editCategory(event, category) {\n    event.stopPropagation();\n    let modal = this.modalCtrl.create(CategoryDetailPage, { 'category': category });\n    modal.onDidDismiss(updatedCategory => {\n      if (updatedCategory != null) {\n        // Fermeture du modal : mise à jour de la catégorie dans la base\n        this.backend.updateCategory(updatedCategory).subscribe(\n          () => {\n            // Mise à jour du cache\n            this.backend.updateCachedCategory(updatedCategory);\n          },\n          error => {\n            this.util.handleError(error);\n          });\n      }\n    });\n    modal.present();\n  }\n\n  /**\n   * Clic sur le bouton d'ajout d'une catégorie.\n   */\n  addCategory() {\n    let modal = this.modalCtrl.create(CategoryDetailPage);\n    modal.onDidDismiss(newCategory => {\n      if (newCategory != null) {\n        // Fermeture du modal : ajout de la catégorie dans la base\n        this.backend.addCategory(newCategory).subscribe(\n          data => {\n            // Mise à jour du cache\n            this.backend.addCachedCategory(data);\n          },\n          error => {\n            this.util.handleError(error);\n          });\n        }\n    });\n    modal.present();\n  }\n\n  /**\n   * Clic sur le bouton de suppression d'une catégorie.\n   */\n  deleteCategory(event, category) {\n    event.stopPropagation();\n    this.util.confirm(\n      'Suppression de la catégorie',\n      'La suppression de la catégorie entraînera la suppression des nominations liées. Etes-vous sûr de vouloir la supprimer ?',\n      this.deleteCategoryBackend.bind(this),\n      category);\n  }\n\n  deleteCategoryBackend(category) {\n    // Suppression de la catégorie dans la base\n    this.backend.deleteCategory(category).subscribe(\n      () => {\n        // Suppression dans le cache\n        this.backend.deleteCachedCategory(category);\n      },\n      error => {\n        this.util.handleError(error);\n      });\n  }\n\n  /**\n   * Clic sur l'entête d'une catégorie : on ouvre ou on ferme le bloc.\n   */\n  toggleCategory(categoryId) {\n    if (this.shown[categoryId] == true) {\n      this.shown[categoryId] = false;\n    } else {\n      this.shown[categoryId] = true;\n    }\n  };\n\n  /**\n   * Indique si un bloc de catégorie doit être ouvert.\n   */\n  isCategoryShown(categoryId) {\n    if (this.shown[categoryId] == true) {\n      return true;\n    }\n    return false;\n  };\n\n  /**\n   * Ajout d'une nomination.\n   */\n  addNomination(event, category) {\n    if (event != null) {\n      event.stopPropagation();\n    }\n\n    if (this.util.nominationsOpen()) {\n      let modal = this.modalCtrl.create(NominationDetailPage, { 'category': category });\n      modal.onDidDismiss(newNomination => {\n        if (newNomination != null) {\n          // Fermeture du modal : ajout de la nomination dans la base\n          let loading = this.util.loading('Enregistrement en cours...');\n\n          this.backend.addNomination(newNomination).subscribe(\n            data => {\n              loading.dismiss();\n\n              // Ajout de la nomination dans l'IHM\n              this.util.mapOfListsAdd(this.bundle.nominations, newNomination.categoryId, data);\n              this.nominationsMap[data['id']] = data;\n\n              // Ouverture du bloc\n              this.shown[newNomination.categoryId] = true;\n            },\n            error => {\n              loading.dismiss();\n              this.util.handleError(error);\n            });\n          }\n      });\n      modal.present();\n    } else {\n      this.util.warning('Nominations', 'Les nominations sont actuellement fermées');\n    }\n  }\n\n  /**\n   * Suppression d'une nomination.\n   */\n  deleteNomination(event, nomination) {\n    event.stopPropagation();\n\n    // Suppression de la nomination dans la base\n    this.backend.deleteNomination(nomination).subscribe(\n      () => {\n        // Mise à jour de l'IHM\n        this.util.mapOfListsDelete(this.bundle.nominations, nomination.categoryId, nomination.id);\n      },\n      error => {\n        this.util.handleError(error);\n      });\n  }\n\n  /**\n   * Edition d'une nomination.\n   */\n  editNomination(nomination) {\n    let modal = this.modalCtrl.create(NominationDetailPage, { 'nomination': nomination });\n    modal.onDidDismiss(updatedNomination => {\n      if (updatedNomination != null) {\n        // Fermeture du modal : modification de la nomination dans la base\n        let loading = this.util.loading('Enregistrement en cours...');\n\n        this.backend.updateNomination(updatedNomination).subscribe(\n          data => {\n            loading.dismiss();\n\n            // Mise à jour dans l'IHM\n            this.util.mapOfListsUpdate(this.bundle.nominations, nomination.categoryId, data);\n            this.nominationsMap[updatedNomination.id] = data;\n          },\n          error => {\n            loading.dismiss();\n            this.util.handleError(error);\n          });\n        }\n      });\n    modal.present();\n  }\n\n  /**\n   * Commentaire d'une nomination.\n   */\n  addComment(event, nomination) {\n    if (event != null) {\n      event.stopPropagation();\n    }\n\n    if (this.backend.getIdentifiedUser() == null) {\n      // L'utilisateur n'est pas encore identifié : appel de la méthode d'identification puis attente de l'événement signalant l'identification\n      this.util.identify('nomination', { 'nomination' : nomination });\n    } else {\n      let modal = this.modalCtrl.create(CommentDetailPage, { 'nomination': nomination });\n      modal.onDidDismiss(newComment => {\n        if (newComment != null) {\n          // Fermeture du modal : création du commentaire dans la base\n          this.backend.addComment(newComment).subscribe(\n            data => {\n              // Mise à jour de l'IHM\n              this.util.mapOfListsAdd(this.commentsByNominations, nomination.id, data);\n            },\n            error => {\n              this.util.handleError(error);\n            });\n        }\n      });\n      modal.present();\n    }\n  }\n\n  /**\n   * Récupération des commentaires.\n   */\n  getCommentsByNominations() {\n    this.backend.getCommentsByNominations().subscribe(\n      data => {\n        let bundle: any = data;\n        if (bundle.comments !== null && bundle.comments !== undefined) {\n          this.commentsByNominations = bundle.comments;\n        } else {\n          this.commentsByNominations = {};\n        }\n        console.log('commentsByNominations = ' + this.commentsByNominations);\n\n      },\n      error => {\n        this.util.handleError(error);\n      });\n  }\n\n  /**\n   * Récupération des ID des nominations qui ont des commentaires.\n   */\n  getCommentedNominationsIds() {\n    let orderedCommentedNominationsIds = [];\n    let commentedNominationsIds = Object.keys(this.commentsByNominations);\n\n    for (let category of this.backend.getCachedCategories()) {\n      if (this.bundle.nominations[category.id] != null) {\n        for (let nomination of this.bundle.nominations[category.id]) {\n          if (commentedNominationsIds.indexOf(nomination.id.toString()) != -1) {\n            orderedCommentedNominationsIds.push(nomination.id);\n          }\n        }\n      }\n    }\n    return orderedCommentedNominationsIds;\n  }\n\n  getCommentDate(comment) {\n    return comment.date.substring(0, 10);\n  }\n\n  /**\n   * Suppression d'un commentaire.\n   */\n  deleteComment(comment) {\n    // Suppression du commentaire dans la base\n    this.backend.deleteComment(comment).subscribe(\n      () => {\n        // Suppression dans l'IHM\n        this.util.mapOfListsDelete(this.commentsByNominations, comment.nominationId, comment.id);\n      },\n      error => {\n        this.util.handleError(error);\n      });\n  }\n\n  /**\n   * Edition d'un commentaire.\n   */\n  editComment(comment) {\n    let modal = this.modalCtrl.create(CommentDetailPage, { 'comment': comment });\n    modal.onDidDismiss(updatedComment => {\n      if (updatedComment != null) {\n        // Fermeture du modal : mise à jour du commentaire dans la base\n        this.backend.updateComment(updatedComment).subscribe(\n          data => {\n            // Mise à jour de l'IHM\n            this.util.mapOfListsUpdate(this.commentsByNominations, comment.nominationId, data);\n          },\n          error => {\n            this.util.handleError(error);\n          });\n      }\n    });\n    modal.present();\n  }\n\n  /**\n   * Indique si le commentaire vient de l'utilisateur qui est identifié (pour décaler le commentaire).\n   */\n  isIdentifiedUserComment(comment) {\n    let user = this.backend.getIdentifiedUser();\n    if (user == null) {\n      return false;\n    }\n    return (comment.authorId == user.id);\n  }\n\n  /**\n   * Clic sur le bouton images : on va vers l'écran des images\n   */\n  goToImage() {\n    this.navCtrl.push(ImagePage);\n  }\n\n  /**\n   * Clic sur le bouton mail : on appelle la méthode d'envoi des nominations par mail\n   */\n  sendNominationsByMail(input?) {\n    let address = null;\n    if (input) {\n      // L'utilisateur a saisi une adresse\n      address = input;\n    } else {\n      let user = this.backend.getIdentifiedUser();\n      if (user != null && user.email != null && user.email != '') {\n        // L'utilisateur est authentifié et possède une adresse e-mail : on utilise cette adresse\n        address = user.email;\n      }\n    }\n\n    if (address == null) {\n      // Si l'utilisateur n'a pas saisi d'adresse et n'est pas authentifié, il doit saisir une adresse\n      this.util.getEmail('nomination');\n    } else {\n      // On a une adresse : on envoie\n      this.backend.sendNominationsByMail(address).subscribe(\n        () => {\n          // Message de confirmation\n          this.util.toast('Le mail a été envoyé');\n        },\n        error => {\n          this.util.handleError(error);\n        });\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/nomination/nomination.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, ModalController } from 'ionic-angular';\r\nimport { UserDetailPage } from '../user-detail/user-detail';\r\nimport { BackendProvider } from '../../providers/backend/backend';\r\nimport { UtilProvider } from '../../providers/util/util';\r\n\r\n/**\r\n * Generated class for the UserPage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-user',\r\n  templateUrl: 'user.html'\r\n})\r\nexport class UserPage {\r\n  bundle : any;\r\n\r\n  constructor(public navCtrl: NavController, public navParams: NavParams, public backend: BackendProvider, public modalCtrl: ModalController,\r\n    public util: UtilProvider) {\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n  }\r\n  \r\n  ionViewDidEnter() {\r\n    // Spinner de chargement\r\n    let loading = this.util.loading('Chargement en cours...');\r\n    \r\n    // Appel du backend\r\n    this.backend.getUserBundle().subscribe(\r\n      data => {\r\n        this.bundle = data;\r\n        if (this.bundle.nominations == null) {\r\n          this.bundle.nominations = {};\r\n        }\r\n        loading.dismiss();\r\n      },\r\n      error => {\r\n        this.util.handleError(error);\r\n        loading.dismiss();        \r\n      });\r\n  }\r\n\r\n  /**\r\n   * Modification d'un utilisateur.\r\n   */\r\n  editUser(user) {\r\n    let modal = this.modalCtrl.create(UserDetailPage, { 'user': user, 'nominations': this.bundle.nominations[user.id] });\r\n    modal.onDidDismiss(updatedUser => {\r\n      if (updatedUser != null) {\r\n        // Fermeture du modal : mise à jour de l'utilisateur dans la base\r\n        this.backend.updateUser(updatedUser).subscribe(\r\n          data => {\r\n            // Mise à jour dans le cache\r\n            this.backend.updateCachedUser(data);\r\n          },\r\n          error => {\r\n            this.util.handleError(error);\r\n          });\r\n        }\r\n      });\r\n    modal.present();\r\n  }\r\n  \r\n  /**\r\n   * Ajout d'un utilisateur.\r\n   */\r\n  addUser() {\r\n    let modal = this.modalCtrl.create(UserDetailPage);\r\n    modal.onDidDismiss(newUser => {\r\n      if (newUser != null) {\r\n        // Fermeture du modal : ajout de l'utilisateur dans la base\r\n        this.backend.addUser(newUser).subscribe(\r\n          data => {\r\n            // Mise à jour dans le cache\r\n            this.backend.addCachedUser(data);\r\n          },\r\n          error => {\r\n            this.util.handleError(error);\r\n          });\r\n      }      \r\n    });\r\n    modal.present();\r\n  }\r\n\r\n  /**\r\n   * Suppression d'un utilisateur.\r\n   */\r\n  deleteUser(event, user) {\r\n    event.stopPropagation();\r\n    if (this.backend.getIdentifiedUser() != null && this.backend.getIdentifiedUser().id == user.id) {\r\n      this.util.warning(\r\n        'Suppression du compétiteur',\r\n        'Ce compétiteur est actuellement connecté'\r\n      );\r\n    } else {\r\n      this.util.confirm(\r\n        'Suppression du compétiteur',\r\n        'La suppression du compétiteur entraînera la suppression de ses nominations et de ses votes. Etes-vous sûr de vouloir le supprimer ?',\r\n        this.deleteUserBackend.bind(this),\r\n        user);\r\n    }\r\n  }  \r\n  \r\n  deleteUserBackend(user) {\r\n    // Suppression de l'utilisateur dans la base\r\n    this.backend.deleteUser(user).subscribe(\r\n      () => {\r\n        // Mise à jour dans le cache\r\n        this.backend.deleteCachedUser(user);\r\n      },\r\n      error => {\r\n        this.util.handleError(error);\r\n      });\r\n  }\r\n  \r\n  getNumberOfNominations(user) {\r\n    let nominations = this.bundle.nominations[user.id];\r\n    if (nominations != null) {\r\n      return nominations.length;\r\n    }\r\n    return 0;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/user/user.ts","import { Component, ElementRef, ViewChild } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, ViewController } from 'ionic-angular';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { BackendProvider } from '../../providers/backend/backend';\r\nimport { UtilProvider } from '../../providers/util/util';\r\n\r\n/**\r\n * Generated class for the UserDetailPage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-user-detail',\r\n  templateUrl: 'user-detail.html',\r\n})\r\nexport class UserDetailPage {\r\n  userForm: FormGroup;\r\n  user: any;\r\n  nominations: any;\r\n  submitAttempt: boolean = false;\r\n  newImage = null;\r\n  title: string;\r\n  \r\n  @ViewChild('fileInput')\r\n  fileInput: ElementRef;\r\n\r\n  constructor(public navCtrl: NavController, public navParams: NavParams, public viewCtrl: ViewController, public formBuilder: FormBuilder,\r\n    public util: UtilProvider, public backend: BackendProvider) {\r\n    let param = this.navParams.get('user');\r\n    if (param == null) {\r\n      // Création\r\n      this.user = {\r\n        'firstName': '',\r\n        'lastName': '',\r\n        'email': '',\r\n        'avatarId': null\r\n      }\r\n      this.title = 'Nouveau comp&eacute;titeur';\r\n    } else {\r\n      // Modification\r\n      this.user = {\r\n        'id' : param.id,\r\n        'firstName': param.firstName,\r\n        'lastName': param.lastName,\r\n        'email': param.email,\r\n        'avatarId' : param.avatarId\r\n      }\r\n      this.title = 'Modification du comp&eacute;titeur';\r\n      \r\n      if (this.navParams.get('nominations') != null) {\r\n        this.nominations = this.orderNominations(this.navParams.get('nominations'));\r\n      }      \r\n    }\r\n        \r\n    this.userForm = formBuilder.group({\r\n      firstName: [this.user.firstName, Validators.required],\r\n      lastName: [this.user.lastName],\r\n      email: [this.user.email],\r\n      avatar: null\r\n    });\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n  }\r\n\r\n  dismiss() {\r\n    this.viewCtrl.dismiss();\r\n  }\r\n  \r\n  save() {\r\n    this.submitAttempt = true;\r\n    if (this.userForm.valid) {\r\n      this.viewCtrl.dismiss(this.user);\r\n    }    \r\n  }\r\n  \r\n  /**\r\n   * Sélection de l'avatar.\r\n   */\r\n  onFileChange(event) {\r\n    let reader = new FileReader();\r\n    if (event.target.files && event.target.files.length > 0) {\r\n      let file = event.target.files[0];\r\n\r\n      reader.readAsDataURL(file);\r\n      reader.onload = () => {\r\n        this.newImage = reader.result;\r\n        \r\n        let image = reader.result.split(',')[1];\r\n        /*\r\n        this.userForm.get('avatar').setValue({\r\n          filename: file.name,\r\n          filetype: file.type,\r\n          value: image\r\n        });\r\n        */\r\n        this.user['avatar'] = image;\r\n      };\r\n    }\r\n  }\r\n  \r\n  /**\r\n   * Suppression de l'avatar.\r\n   */\r\n  deleteAvatar() {\r\n    this.user.avatarId = null;\r\n    this.newImage = null;\r\n    this.clearFile();\r\n  }\r\n  \r\n  clearFile() {\r\n    //this.userForm.get('avatar').setValue(null);\r\n    this.fileInput.nativeElement.value = '';\r\n  }\r\n  \r\n  goToStats() {\r\n    this.viewCtrl.dismiss({ 'stats' : true });\r\n  }\r\n  \r\n  orderNominations(nominations) {\r\n    let orderedNominations = [];\r\n    for (let category of this.backend.getCachedCategories()) {\r\n      for (let nomination of nominations) {\r\n        if (nomination.categoryId == category.id) {\r\n          orderedNominations.push(nomination);\r\n        }\r\n      }\r\n    }\r\n    return orderedNominations;\r\n  }  \r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/user-detail/user-detail.ts","import { Component, trigger, state, style, animate, transition } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, Events } from 'ionic-angular';\r\nimport { BackendProvider } from '../../providers/backend/backend';\r\nimport { UtilProvider } from '../../providers/util/util';\r\nimport { VoteResultPage } from '../vote-result/vote-result';\r\n\r\n/**\r\n * Generated class for the VotePage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-vote',\r\n  templateUrl: 'vote.html',\r\n  animations: [\r\n    trigger('expand', [\r\n      state('true', style({height: '*'})),\r\n      state('false', style({height: 0})),\r\n      transition('true => false', animate(250)),\r\n      transition('false => true', animate(250))\r\n    ])\r\n  ]\r\n})\r\nexport class VotePage {\r\n  bundle: any;\r\n  votesOfUser: any;\r\n  shown: { [key:number]: boolean; } = {};\r\n  votes: any[];\r\n  dirty: boolean;\r\n  loaded: boolean; \r\n\r\n  constructor(public navCtrl: NavController, public navParams: NavParams, public backend: BackendProvider, public util: UtilProvider, events: Events) {\r\n      events.subscribe('vote:identified', () => {\r\n        // L'utilisateur s'est identifié\r\n        this.loadVotes();\r\n      });\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n  }\r\n\r\n  ionViewDidEnter() {\r\n    this.loaded = false;\r\n    \r\n    if (this.util.votesOpen()) {\r\n      if (this.backend.getIdentifiedUser() == null) {\r\n        // L'utilisateur n'est pas encore identifié : appel de la méthode d'identification puis attente de l'événement signalant l'identification\r\n        this.util.identify('vote');\r\n      } else {\r\n        this.loadVotes();\r\n      }\r\n    } else {\r\n      this.navCtrl.setRoot(VoteResultPage);\r\n    }        \r\n  }\r\n  \r\n  loadVotes() {\r\n    // Spinner de chargement\r\n    let loading = this.util.loading('Chargement en cours...');\r\n    \r\n    // Appel du backend\r\n    this.backend.getNominationBundle().subscribe(\r\n      data => {\r\n        this.bundle = data;\r\n        \r\n        this.backend.getVotesByUser(this.backend.getIdentifiedUser().id).subscribe(\r\n          data2 => {\r\n            this.votesOfUser = data2['votes'];\r\n            console.log('votes : ' + JSON.stringify(this.votesOfUser));\r\n            this.initVotes();\r\n            this.loaded = true;\r\n            loading.dismiss();\r\n          },\r\n          error => {\r\n            loading.dismiss();\r\n            this.util.handleError(error);                \r\n          });\r\n      },\r\n      error => {\r\n        loading.dismiss();\r\n        this.util.handleError(error);                \r\n      });\r\n  }\r\n  \r\n  /**\r\n   * Clic sur l'entête d'une catégorie : on ouvre ou on ferme le bloc.\r\n   */\r\n  toggleCategory(categoryId) {\r\n    if (this.shown[categoryId] == true) {\r\n      this.shown[categoryId] = false;\r\n    } else {\r\n      this.shown[categoryId] = true;\r\n    }\r\n  };\r\n  \r\n  /**\r\n   * Indique si un bloc de catégorie doit être ouvert. \r\n   */\r\n  isCategoryShown(categoryId) {\r\n    if (this.shown[categoryId] == true) {\r\n      return true;\r\n    }\r\n    return false;\r\n  };\r\n  \r\n  /**\r\n   * Prépare la liste des objets vote avec les votes éventuels de l'utilisateur.\r\n   */\r\n  initVotes() {\r\n    this.votes = [];\r\n    this.dirty = false;\r\n    \r\n    for (let category of this.backend.getCachedCategories()) {\r\n      let nominationsOfOneCategory = this.bundle.nominations[category.id];\r\n      if (nominationsOfOneCategory != null && nominationsOfOneCategory.length > 0) {\r\n        // On ouvre le premier bloc\r\n        if (this.votes.length == 0) {\r\n          this.shown[category.id] = true;\r\n        } else {\r\n          this.shown[category.id] = false;\r\n        }\r\n\r\n        let userVoteByCategory = this.getUserVoteByCategory(category.id);\r\n        if (userVoteByCategory != null) {\r\n          this.votes.push(userVoteByCategory);\r\n        } else {\r\n          this.votes.push({\r\n            'categoryId': category.id,\r\n            'voterId': this.backend.getIdentifiedUser().id,\r\n            'nominationId': null,\r\n            'reason': ''\r\n          });\r\n        }        \r\n      }\r\n    }\r\n  }\r\n  \r\n  getUserVoteByCategory(categoryId) {\r\n    if (this.votesOfUser != null) {\r\n      for (let vote of this.votesOfUser) {\r\n        if (vote.categoryId == categoryId) {\r\n          return vote;\r\n        }\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n  \r\n  save() {\r\n    let nonNullVotes = [];\r\n    for (let vote of this.votes) {\r\n      if (vote.nominationId != null) {\r\n        nonNullVotes.push(vote);\r\n      }\r\n    }\r\n    \r\n    this.backend.addVotes(nonNullVotes).subscribe(\r\n      () => {\r\n        this.navCtrl.push(VoteResultPage);\r\n      },\r\n      error => {\r\n        this.util.handleError(error);                \r\n      });\r\n  }\r\n  \r\n  result() {\r\n    if (this.dirty == true) {\r\n      this.util.confirm(\r\n        'Modification des votes',\r\n        'Vous avez effectué des modifications à vos votes. Etes-vous sûr de vouloir abandonner vos modifications ?',\r\n        this.goToVoteResult.bind(this),\r\n        null);\r\n    } else {\r\n      this.goToVoteResult();\r\n    }    \r\n  }\r\n  \r\n  goToVoteResult() {\r\n    this.navCtrl.push(VoteResultPage);\r\n  }\r\n  \r\n  /**\r\n   * Clic sur le bouton \"Suivant\" : on ferme le bloc courant et on ouvre le suivant.\r\n   */\r\n  next(index) {\r\n    if (index < (this.votes.length - 1)) {\r\n      this.shown[this.votes[index].categoryId] = false;\r\n      this.shown[this.votes[index + 1].categoryId] = true;\r\n    }    \r\n  }\r\n  \r\n  valueChanged() {\r\n    this.dirty = true;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/vote/vote.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, ModalController } from 'ionic-angular';\r\nimport { BackendProvider } from '../../providers/backend/backend';\r\nimport { UtilProvider } from '../../providers/util/util';\r\nimport { SettlePage } from '../settle/settle';\r\nimport { CategoryLinkPage } from '../category-link/category-link';\r\n\r\n/**\r\n * Generated class for the VoteResultPage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-vote-result',\r\n  templateUrl: 'vote-result.html',\r\n})\r\nexport class VoteResultPage {\r\n  result: any;\r\n  categoriesToSettle: any[];\r\n  categoriesNotSettled: any[];\r\n  loaded: boolean;\r\n\r\n  constructor(public navCtrl: NavController, public navParams: NavParams, public backend: BackendProvider, public util: UtilProvider,\r\n    public modalCtrl: ModalController) {\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n  }\r\n\r\n  ionViewDidEnter() {\r\n    this.loaded = false;\r\n    this.loadVoteResult();\r\n  }\r\n  \r\n  loadVoteResult() {\r\n    // Spinner de chargement    \r\n    let loading = this.util.loading('Chargement en cours...');\r\n    \r\n    // Appel du backend\r\n    this.backend.getVoteResult().subscribe(\r\n      data => {\r\n        this.result = data;\r\n        if (this.result != null) {\r\n          // Recherche des catégories à départager (plus d'un vainqueur)\r\n          this.categoriesToSettle = [];\r\n          this.categoriesNotSettled = [];\r\n          for (let category of this.backend.getCachedCategories()) {\r\n            if (this.result.winnersByCategory[category.id] != null && this.result.winnersByCategory[category.id].length > 1) {\r\n              this.categoriesToSettle.push(category.id);\r\n              \r\n              // S'il n'y a pas eu de décision, il faut l'afficher\r\n              if (this.result.decisionsByCategory == null || this.result.decisionsByCategory[category.id] == null) {\r\n                this.categoriesNotSettled.push(category.id);\r\n              }\r\n            }\r\n          }\r\n        }\r\n        \r\n        this.loaded = true;\r\n        loading.dismiss();\r\n      },\r\n      error => {\r\n        loading.dismiss();\r\n        this.util.handleError(error);                \r\n      });\r\n  }\r\n  \r\n  /**\r\n   * Ouvre la popup de départage des ex aequo.\r\n   */\r\n  settle() {\r\n    let modal = this.modalCtrl.create(SettlePage, { 'categories': this.categoriesToSettle, 'winnersByCategory': this.result.winnersByCategory, 'decisionsByCategory': this.result.decisionsByCategory });\r\n    modal.onDidDismiss(decisions => {\r\n      if (decisions != null) {\r\n        // Fermeture du modal : mise à jour de l'utilisateur dans la base\r\n        this.backend.addDecisions(decisions).subscribe(\r\n          () => {\r\n            // Mise à jour de l'IHM\r\n            this.loadVoteResult();           \r\n          },\r\n          error => {\r\n            this.util.handleError(error);\r\n          });\r\n        }\r\n      });\r\n    modal.present();\r\n  }\r\n  \r\n  getRankingKeys() {\r\n    return Object.keys(this.result.ranking);\r\n  }\r\n  \r\n  archive() {\r\n    let modal = this.modalCtrl.create(CategoryLinkPage);\r\n    modal.onDidDismiss(categoriesLinks => {\r\n      // Fermeture du modal des liens entre les catégories : on crée l'archive \r\n      this.backend.createArchiveFromVoteResult(categoriesLinks).subscribe(\r\n        () => {\r\n          this.util.toast(\"Archive créée\");\r\n        },\r\n        error => {\r\n          this.util.handleError(error);\r\n        });\r\n    });\r\n    modal.present();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/vote-result/vote-result.ts","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { AlertController, Events, LoadingController, ToastController } from 'ionic-angular';\r\nimport { BackendProvider } from '../backend/backend';\r\n\r\n/*\r\n  Generated class for the UtilProvider provider.\r\n\r\n  See https://angular.io/guide/dependency-injection for more info on providers\r\n  and Angular DI.\r\n*/\r\n@Injectable()\r\nexport class UtilProvider {\r\n  KEY_SHOW_LASTNAME: string = 'SHOW_LASTNAME';\r\n  KEY_NOMINATIONS_OPEN: string = 'NOMINATIONS_OPEN';\r\n  KEY_VOTES_OPEN: string = 'VOTES_OPEN';\r\n  KEY_NEWS: string = 'NEWS';\r\n\r\n  constructor(public http: HttpClient, public alertCtrl: AlertController, public backend: BackendProvider, public events: Events,\r\n    public loadingCtrl: LoadingController, public toastCtrl: ToastController) {\r\n  }\r\n\r\n  handleError(error) {\r\n    console.log('Erreur : ' + JSON.stringify(error));\r\n    \r\n    let alert = this.alertCtrl.create({\r\n      title: 'Erreur',\r\n      message: error.message,\r\n      buttons: ['OK']\r\n    });\r\n    alert.present();\r\n  }\r\n  \r\n  getDisplayName(user) {\r\n    let showLastname = this.getGlobalByKey(this.KEY_SHOW_LASTNAME);\r\n    if (showLastname != null && showLastname.value != null && showLastname.value.toUpperCase() == 'TRUE' && user.lastName != null && user.lastName != '') {\r\n      return user.firstName + ' ' + user.lastName;\r\n    }\r\n    return user.firstName;\r\n  }\r\n  \r\n  getUserName(userId) {\r\n    for (let user of this.backend.getCachedUsers()) {\r\n      if (userId == user.id) {\r\n        return this.getDisplayName(user);\r\n      }\r\n    }\r\n    return '';\r\n  }\r\n  \r\n  getUserNameFromList(userId, users) {\r\n    for (let user of users) {\r\n      if (userId == user.id) {\r\n        return this.getDisplayName(user);\r\n      }\r\n    }\r\n    return '';\r\n  }\r\n  \r\n  getUsersNamesFromList(usersIds, users) {\r\n    if (usersIds == null) {\r\n      return '';\r\n    }\r\n    let names = [];\r\n    for (let user of users) {\r\n      if (usersIds.indexOf(user.id) != -1) {\r\n        names.push(this.getDisplayName(user));\r\n      }\r\n    }\r\n    let result = names.join(', ');\r\n    let index = result.lastIndexOf(',');\r\n    if (index != -1) {\r\n      result = result.substring(0, index) + ' et ' + result.substring(index + 2);\r\n    }\r\n    return result;\r\n  }\r\n  \r\n  getGlobalByKey(key) {\r\n    for (let global of this.backend.getCachedGlobals()) {\r\n      if (key == global.key) {\r\n        return global;\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n  \r\n  nominationsOpen() {\r\n    let global = this.getGlobalByKey(this.KEY_NOMINATIONS_OPEN);\r\n    return (global != null && global.value != null && global.value.toUpperCase() == 'TRUE');\r\n  }\r\n  \r\n  votesOpen() {\r\n    let global = this.getGlobalByKey(this.KEY_VOTES_OPEN);\r\n    return (global != null && global.value != null && global.value.toUpperCase() == 'TRUE');\r\n  }\r\n  \r\n  getNews() {\r\n    let global = this.getGlobalByKey(this.KEY_NEWS);\r\n    if (global == null) {\r\n      return null;\r\n    }\r\n    return global.value;\r\n  }\r\n  \r\n  getUsersNames(usersIds) {\r\n    return this.getUsersNamesFromList(usersIds, this.backend.getCachedUsers());\r\n  }\r\n  \r\n  getCategoryName(categoryId) {\r\n    for (let category of this.backend.getCachedCategories()) {\r\n      if (categoryId == category.id) {\r\n        return category.name;\r\n      }\r\n    }\r\n    return '';\r\n  }\r\n  \r\n  getCategoryNameFromList(categoryId, categories) {\r\n    for (let category of categories) {\r\n      if (categoryId == category.id) {\r\n        return category.name;\r\n      }\r\n    }\r\n    return '';\r\n  }\r\n  \r\n  getCategoriesNames(categoriesIds) {\r\n    let names = [];\r\n    for (let category of this.backend.getCachedCategories()) {\r\n      if (categoriesIds.indexOf(category.id) != -1) {\r\n        names.push(category.name);\r\n      }\r\n    }\r\n    let result = names.join(', ');\r\n    let index = result.lastIndexOf(',');\r\n    if (index != -1) {\r\n      result = result.substring(0, index) + ' et ' + result.substring(index + 2);\r\n    }\r\n    return result;\r\n  }\r\n  \r\n  identify(sender?, callback?) {\r\n    let alert = this.alertCtrl.create({\r\n      title: 'Identification',\r\n      enableBackdropDismiss: false,\r\n      buttons: [\r\n        { text: 'OK', handler: data => {\r\n          if (data == null) {\r\n            return false;\r\n          }\r\n          this.backend.setIdentifiedUser(data);\r\n          if (sender) {\r\n            // La méthode a été appelée au préalable d'un commentaire ou d'un vote : il faut retourner à la page appelante\r\n            this.events.publish(sender + ':identified', callback);         \r\n          }\r\n        }}\r\n      ]\r\n    });\r\n    \r\n    for (let user of this.backend.getCachedUsers()) {\r\n      alert.addInput({\r\n        type: 'radio',\r\n        label: user.firstName + ' ' + user.lastName,\r\n        value: user,\r\n        checked: false\r\n      });\r\n    }\r\n    \r\n    alert.present();\r\n  }\r\n  \r\n  getEmail(sender?) {\r\n    let alert = this.alertCtrl.create({\r\n      title: 'Addresse e-mail',\r\n      inputs: [\r\n        { name: 'email', placeholder: 'E-mail' }\r\n      ],\r\n      buttons: [\r\n        { text: 'Annuler', role: 'cancel' },\r\n        { text: 'OK', handler: data => {\r\n          if (data.email == null || data.email == '') {\r\n            return false;\r\n          }\r\n          if (sender) {\r\n            this.events.publish(sender + ':email', data.email);\r\n          }\r\n        }}\r\n      ]\r\n    });\r\n    alert.present();\r\n  }\r\n  \r\n  warning(title, content) {\r\n    let alert = this.alertCtrl.create({\r\n      title: title,\r\n      message: content,\r\n      buttons: ['OK']\r\n    });\r\n    alert.present();\r\n  }\r\n  \r\n  confirm(title, content, callback, param) {\r\n    let confirm = this.alertCtrl.create({\r\n      title: title,\r\n      message: content,\r\n      buttons: [\r\n        { text: 'Non', role: 'cancel' },\r\n        { text: 'Oui', handler: () => { callback(param); } }\r\n      ]\r\n    });\r\n    confirm.present();\r\n  }\r\n  \r\n  getPlural(number, word) {\r\n    if (number == null || number <= 1) {\r\n      return number + ' ' + word;\r\n    }\r\n    return number + ' ' + word + 's';\r\n  }\r\n  \r\n  getOrdinal(number) {\r\n    switch (parseInt(number)) {\r\n      case 1:\r\n        return \"Premier\";\r\n      case 2:\r\n        return \"Deuxième\";\r\n      case 3:\r\n        return \"Troisième\";\r\n      case 4:\r\n        return \"Quatrième\";\r\n      case 5:\r\n        return \"Cinquième\";\r\n      case 6:\r\n        return \"Sixième\";\r\n      case 7:\r\n        return \"Septième\";\r\n      case 8:\r\n        return \"Huitième\";\r\n      case 9:\r\n        return \"Neuvième\";\r\n      case 10:\r\n        return \"Dixième\";\r\n    }\r\n    return \"\";\r\n  }\r\n  \r\n  loading(message) {\r\n    let loading = this.loadingCtrl.create({\r\n      content: message\r\n    });\r\n    loading.present();\r\n    return loading;\r\n  }\r\n  /*\r\n  loading(message) {\r\n    let loading = this.loadingCtrl.create({\r\n      spinner: 'hide',\r\n      content: '<img src=\"assets/imgs/loseawards.png\" />',\r\n    });\r\n    loading.present();\r\n    return loading;\r\n  }\r\n  */\r\n  \r\n  toast(message) {\r\n    let toast = this.toastCtrl.create({\r\n      message: message,\r\n      duration: 2000,\r\n      position: 'top'\r\n    });\r\n    toast.present();\r\n    return toast;\r\n  }\r\n  \r\n  mapOfListsAdd(map, key, element) {\r\n    if (map[key] == null) {\r\n      map[key] = [];\r\n    }\r\n    map[key].push(element);\r\n  }\r\n  \r\n  mapOfListsDelete(map, key, id) {\r\n    let elements = map[key];\r\n    for (let i = 0; i < elements.length; i++) {\r\n      if (elements[i].id == id) {\r\n        elements.splice(i, 1);\r\n        break;\r\n      }\r\n    }\r\n  }\r\n  \r\n  mapOfListsUpdate(map, key, element) {\r\n    let elements = map[key];\r\n    for (let i = 0; i < elements.length; i++) {\r\n      if (elements[i].id == element.id) {\r\n        elements[i] = element;\r\n        break;\r\n      }\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/util/util.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 137;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/esm5 lazy\n// module id = 137\n// module chunks = 18","var map = {\n\t\"../pages/archive-detail/archive-detail.module\": [\n\t\t346,\n\t\t17\n\t],\n\t\"../pages/archive/archive.module\": [\n\t\t347,\n\t\t16\n\t],\n\t\"../pages/avatar/avatar.module\": [\n\t\t348,\n\t\t15\n\t],\n\t\"../pages/category-detail/category-detail.module\": [\n\t\t349,\n\t\t14\n\t],\n\t\"../pages/category-link/category-link.module\": [\n\t\t350,\n\t\t13\n\t],\n\t\"../pages/comment-detail/comment-detail.module\": [\n\t\t351,\n\t\t12\n\t],\n\t\"../pages/image/image.module\": [\n\t\t353,\n\t\t11\n\t],\n\t\"../pages/nomination-detail/nomination-detail.module\": [\n\t\t352,\n\t\t10\n\t],\n\t\"../pages/nomination/nomination.module\": [\n\t\t355,\n\t\t9\n\t],\n\t\"../pages/settle/settle.module\": [\n\t\t354,\n\t\t8\n\t],\n\t\"../pages/stat-category/stat-category.module\": [\n\t\t357,\n\t\t7\n\t],\n\t\"../pages/stat-record/stat-record.module\": [\n\t\t356,\n\t\t6\n\t],\n\t\"../pages/stat-user/stat-user.module\": [\n\t\t358,\n\t\t5\n\t],\n\t\"../pages/top-header/top-header.module\": [\n\t\t359,\n\t\t4\n\t],\n\t\"../pages/user-detail/user-detail.module\": [\n\t\t361,\n\t\t3\n\t],\n\t\"../pages/user/user.module\": [\n\t\t360,\n\t\t2\n\t],\n\t\"../pages/vote-result/vote-result.module\": [\n\t\t363,\n\t\t1\n\t],\n\t\"../pages/vote/vote.module\": [\n\t\t362,\n\t\t0\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids)\n\t\treturn Promise.reject(new Error(\"Cannot find module '\" + req + \"'.\"));\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(ids[0]);\n\t});\n};\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 181;\nmodule.exports = webpackAsyncContext;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 181\n// module chunks = 18","import { Component } from '@angular/core';\r\n\r\nimport { UserPage } from '../user/user';\r\nimport { NominationPage } from '../nomination/nomination';\r\nimport { HomePage } from '../home/home';\r\nimport { VotePage } from '../vote/vote';\r\nimport { ArchivePage } from '../archive/archive';\r\n\r\n@Component({\r\n  templateUrl: 'tabs.html'\r\n})\r\nexport class TabsPage {\r\n\r\n  tab1Root = HomePage;\r\n  tab2Root = UserPage;\r\n  tab3Root = NominationPage;\r\n  tab4Root = VotePage;\r\n  tab5Root = ArchivePage;\r\n\r\n  constructor() {\r\n\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tabs/tabs.ts","import { Component } from '@angular/core';\r\nimport { NavController, AlertController } from 'ionic-angular';\r\nimport { BackendProvider } from '../../providers/backend/backend';\r\nimport { UtilProvider } from '../../providers/util/util';\r\n\r\n@Component({\r\n  selector: 'page-home',\r\n  templateUrl: 'home.html'\r\n})\r\nexport class HomePage {\r\n  bundle: any;\r\n  KEY_SHOW_LASTNAME: string = \"SHOW_LASTNAME\";\r\n  KEY_NOMINATIONS_OPEN: string = \"NOMINATIONS_OPEN\";\r\n  KEY_VOTES_OPEN: string = \"VOTES_OPEN\";\r\n  KEY_VOTERS_IDS: string = \"VOTERS_IDS\";\r\n  KEY_NEWS: string = \"NEWS\";\r\n  inputGlobals: any[];\r\n  news: string;\r\n  restoreURL: any;\r\n  \r\n  constructor(public navCtrl: NavController, public backend: BackendProvider, public util: UtilProvider, public alertCtrl: AlertController) {\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n  }\r\n\r\n  ionViewDidEnter() {\r\n    // Spinner de chargement\r\n    let loading = this.util.loading('Chargement en cours...');\r\n    \r\n    this.restoreURL = {\r\n      url: '',\r\n      restoreUsers: false,\r\n      restoreCategoriesAndNominations: false,\r\n      restoreUsersAndCategoriesArchive: false,\r\n      restoreArchives: false\r\n    };    \r\n    \r\n    // Appel du backend\r\n    this.backend.getHomeBundle().subscribe(\r\n      data => {\r\n        this.bundle = data;\r\n        \r\n        // Mise à jour du cache\r\n        if (this.bundle.users != null) {\r\n          this.backend.setCachedUsers(this.bundle.users);\r\n        } else {\r\n          this.backend.setCachedUsers([]);\r\n        }\r\n        \r\n        if (this.bundle.categories != null) {\r\n          this.backend.setCachedCategories(this.bundle.categories);\r\n        } else {\r\n          this.backend.setCachedCategories([]);\r\n        }\r\n        \r\n        if (this.bundle.globals != null) {\r\n          this.backend.setCachedGlobals(this.bundle.globals);\r\n        } else {\r\n          this.backend.setCachedGlobals([]);\r\n        }\r\n        \r\n        this.initGlobals();\r\n        this.news = this.util.getNews();\r\n        loading.dismiss();\r\n      },\r\n      error => {\r\n        this.util.handleError(error);\r\n        loading.dismiss();        \r\n      });\r\n  }\r\n  \r\n  initGlobals() {\r\n    this.inputGlobals = [];\r\n    for (let global of this.backend.getCachedGlobals()) {\r\n      switch(global.key) {        \r\n        case this.KEY_SHOW_LASTNAME:\r\n        case this.KEY_NOMINATIONS_OPEN:\r\n        case this.KEY_VOTES_OPEN:\r\n          this.inputGlobals.push({ key: global.key, value: (global.value != null && global.value.toUpperCase() == 'TRUE'), valuesIds: global.valuesIds });\r\n          break;\r\n        default:\r\n          this.inputGlobals.push({ key: global.key, value: global.value, valuesIds: global.valuesIds });\r\n      } \r\n    }\r\n  }\r\n  \r\n  getUsersIds() {\r\n    if (this.bundle.statistiques != null) {\r\n      return Object.keys(this.bundle.statistiques);\r\n    }\r\n    return null;\r\n  }\r\n  \r\n  save() {\r\n    let changedGlobals = [];\r\n    for (let inputGlobal of this.inputGlobals) {\r\n      let global = this.util.getGlobalByKey(inputGlobal.key);\r\n      if (inputGlobal.value != global.value) {\r\n        switch(inputGlobal.key) {        \r\n          case this.KEY_SHOW_LASTNAME:\r\n          case this.KEY_NOMINATIONS_OPEN:\r\n          case this.KEY_VOTES_OPEN:\r\n            global.value = (inputGlobal.value ? 'TRUE' : 'FALSE');\r\n            break;\r\n          default:\r\n            global.value = inputGlobal.value;\r\n        }\r\n        changedGlobals.push(global);\r\n      }\r\n    }\r\n    \r\n    if (changedGlobals.length > 0) {\r\n      this.backend.updateGlobals({ globals: changedGlobals }).subscribe(\r\n        () => {\r\n          this.util.toast('Sauvegarde effectuée');\r\n        },\r\n        error => {\r\n          this.util.handleError(error);\r\n        });\r\n    }\r\n  }\r\n  \r\n  deleteVotes() {\r\n    this.backend.deleteVotes().subscribe(\r\n      () => {\r\n        this.util.toast('Votes supprimés');\r\n      },\r\n      error => {\r\n        this.util.handleError(error);\r\n      });\r\n  }\r\n  \r\n  reset() {\r\n    let alert = this.alertCtrl.create({\r\n      title: 'Réinitialisation',\r\n      message: 'Cette action va réinitialiser le site. Etes-vous sûr ?',\r\n      buttons: [\r\n        { text: 'Non', role: 'cancel' },\r\n        { text: 'Oui', handler: () => { this.backendReset(); } }\r\n      ]\r\n    });\r\n    alert.present();\r\n  }\r\n  \r\n  clean() {\r\n    this.backend.clean().subscribe(\r\n      () => {\r\n        this.util.toast('Base nettoyée');\r\n      },\r\n      error => {\r\n        this.util.handleError(error);\r\n      });\r\n  }\r\n  \r\n  backendReset() {\r\n    this.backend.reset().subscribe(\r\n      () => {\r\n        this.util.toast('Site réinitialisé');\r\n      },\r\n      error => {\r\n        this.util.handleError(error);\r\n      });\r\n  }\r\n  \r\n  restore() {\r\n    let loading = this.util.loading('Restauration en cours...');\r\n    this.backend.restoreByURL(this.restoreURL).subscribe(\r\n        () => {\r\n          loading.dismiss();\r\n        },\r\n        error => {\r\n          loading.dismiss();\r\n          this.util.handleError(error);\r\n        });\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts","import { Component, Input } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\r\nimport { BackendProvider } from '../../providers/backend/backend';\r\n\r\n/**\r\n * Generated class for the AvatarPage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-avatar',\r\n  templateUrl: 'avatar.html',\r\n})\r\nexport class AvatarPage {\r\n  @Input() set userId(userId) {\r\n    for (let current of this.backend.getCachedUsers()) {\r\n      if (current.id == userId) {\r\n        this.user = current;\r\n        break;\r\n      }\r\n    }\r\n  }\r\n  \r\n  @Input() user: any;\r\n  \r\n  @Input() size: string;\r\n  \r\n  //@Output() click = new EventEmitter();\r\n\r\n  constructor(public navCtrl: NavController, public navParams: NavParams, public backend: BackendProvider) {\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n  }\r\n\r\n  getAvatarURL() {\r\n    return this.backend.getAvatarURL(this.user.avatarId);\r\n  }\r\n  \r\n  // getAvatarData() {\r\n  //   return this.backend.getAvatar(this.user.avatarId).subscribe(\r\n  //     data => {\r\n  //     },\r\n  //     error => {\r\n  //     });;\r\n  // }\r\n  \r\n  getFontSize() {\r\n    let val = Math.round(parseFloat(this.size) * 1.22);\r\n    return val;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/avatar/avatar.ts","import { Component, Input } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, AlertController } from 'ionic-angular';\r\nimport { BackendProvider } from '../../providers/backend/backend';\r\nimport { UtilProvider } from '../../providers/util/util';\r\n\r\n/**\r\n * Generated class for the TopHeaderPage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-top-header',\r\n  templateUrl: 'top-header.html',\r\n})\r\nexport class TopHeaderPage {\r\n\r\n  constructor(public navCtrl: NavController, public navParams: NavParams, public alertCtrl: AlertController, public backend: BackendProvider,\r\n    public util: UtilProvider) {\r\n  }\r\n  \r\n  @Input() subtitle: string;\r\n\r\n  ionViewDidLoad() {\r\n  }\r\n  \r\n  getIdentifiedUser() {\r\n    let identifiedUser = this.backend.getIdentifiedUser();\r\n    if (identifiedUser != null) {\r\n      return identifiedUser.firstName + ' ' + identifiedUser.lastName;\r\n    }\r\n    return '';\r\n  }\r\n  \r\n  identify() {\r\n    this.util.identify();\r\n  }\r\n  \r\n  getPosition(i) {\r\n    let position = i * -10;\r\n    return position.toString();\r\n  }\r\n  \r\n  getPaddingLeft() {\r\n    /*\r\n    let padding = (this.backend.getCachedUsers().length - 1) * 10;\r\n    return padding.toString();\r\n    */\r\n    return \"0\";\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/top-header/top-header.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app.module';\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { NgModule, ErrorHandler } from '@angular/core';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\nimport { IonicApp, IonicModule, IonicErrorHandler } from 'ionic-angular';\r\nimport { MyApp } from './app.component';\r\n\r\nimport { NominationPage } from '../pages/nomination/nomination';\r\nimport { NominationDetailPage } from '../pages/nomination-detail/nomination-detail';\r\nimport { UserPage } from '../pages/user/user';\r\nimport { UserDetailPage } from '../pages/user-detail/user-detail';\r\nimport { CategoryDetailPage } from '../pages/category-detail/category-detail';\r\nimport { HomePage } from '../pages/home/home';\r\nimport { TabsPage } from '../pages/tabs/tabs';\r\nimport { TopHeaderPage } from '../pages/top-header/top-header';\r\nimport { CommentDetailPage } from '../pages/comment-detail/comment-detail';\r\nimport { AvatarPage } from '../pages/avatar/avatar';\r\nimport { ImagePage } from '../pages/image/image';\r\nimport { VotePage } from '../pages/vote/vote';\r\nimport { VoteResultPage } from '../pages/vote-result/vote-result';\r\nimport { SettlePage } from '../pages/settle/settle';\r\nimport { ArchivePage } from '../pages/archive/archive';\r\nimport { ArchiveDetailPage } from '../pages/archive-detail/archive-detail';\r\nimport { StatCategoryPage } from '../pages/stat-category/stat-category';\r\nimport { StatUserPage } from '../pages/stat-user/stat-user';\r\nimport { StatRecordPage } from '../pages/stat-record/stat-record';\r\nimport { CategoryLinkPage } from '../pages/category-link/category-link';\r\n\r\nimport { StatusBar } from '@ionic-native/status-bar';\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\n\r\nimport { HttpModule } from '@angular/http';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { BackendProvider } from '../providers/backend/backend';\r\nimport { UtilProvider } from '../providers/util/util';\r\n\r\nimport { SplitPaneModule } from 'ng2-split-pane/lib/ng2-split-pane';\r\n\r\nimport { DatePipe } from '@angular/common';\r\nimport { MatRadioModule } from '@angular/material/radio';\r\nimport { DragulaModule } from 'ng2-dragula';\r\n\r\nimport { ChartModule } from 'angular-highcharts';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    MyApp,\r\n    NominationPage,\r\n    NominationDetailPage,\r\n    CategoryDetailPage,\r\n    UserPage,\r\n    UserDetailPage,\r\n    HomePage,\r\n    TabsPage,\r\n    TopHeaderPage,\r\n    AvatarPage,\r\n    CommentDetailPage,\r\n    ImagePage,\r\n    VotePage,\r\n    VoteResultPage,\r\n    SettlePage,\r\n    ArchivePage,\r\n    ArchiveDetailPage,\r\n    StatCategoryPage,\r\n    StatUserPage,\r\n    StatRecordPage,\r\n    CategoryLinkPage\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    BrowserAnimationsModule,\r\n    HttpModule,\r\n    HttpClientModule,\r\n    SplitPaneModule,\r\n    MatRadioModule,\r\n    DragulaModule,\r\n    ChartModule,\r\n    IonicModule.forRoot(MyApp)\r\n  ],\r\n  bootstrap: [IonicApp],\r\n  entryComponents: [\r\n    MyApp,\r\n    NominationPage,\r\n    NominationDetailPage,\r\n    CategoryDetailPage,\r\n    UserPage,\r\n    UserDetailPage,\r\n    HomePage,\r\n    TabsPage,\r\n    TopHeaderPage,\r\n    AvatarPage,\r\n    CommentDetailPage,\r\n    ImagePage,\r\n    VotePage,\r\n    VoteResultPage,\r\n    SettlePage,\r\n    ArchivePage,\r\n    ArchiveDetailPage,\r\n    StatCategoryPage,\r\n    StatUserPage,\r\n    StatRecordPage,\r\n    CategoryLinkPage\r\n  ],\r\n  providers: [\r\n    StatusBar,\r\n    SplashScreen,\r\n    {provide: ErrorHandler, useClass: IonicErrorHandler},\r\n    BackendProvider,\r\n    HttpClientModule,\r\n    UtilProvider,\r\n    DatePipe\r\n  ]\r\n})\r\nexport class AppModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component } from '@angular/core';\r\nimport { Platform } from 'ionic-angular';\r\nimport { StatusBar } from '@ionic-native/status-bar';\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\n\r\nimport { TabsPage } from '../pages/tabs/tabs';\r\n\r\n@Component({\r\n  templateUrl: 'app.html'\r\n})\r\nexport class MyApp {\r\n  rootPage:any = TabsPage;\r\n\r\n  constructor(platform: Platform, statusBar: StatusBar, splashScreen: SplashScreen) {\r\n    platform.ready().then(() => {\r\n      // Okay, so the platform is ready and our plugins are available.\r\n      // Here you can do any higher level native things you might need.\r\n      statusBar.styleDefault();\r\n      splashScreen.hide();\r\n    });\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { HttpClient, HttpParams } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\n//import 'rxjs/add/operator/map';\r\n\r\n/*\r\n  Generated class for the BackendProvider provider.\r\n\r\n  See https://angular.io/guide/dependency-injection for more info on providers\r\n  and Angular DI.\r\n*/\r\n@Injectable()\r\nexport class BackendProvider {\r\n  apiUrl: string;\r\n  baseUrl: string = '';\r\n  cachedUsers: any;\r\n  cachedCategories: any;\r\n  identifiedUser: any;\r\n  cachedGlobals: any;\r\n\r\n  constructor(public http: HttpClient) {\r\n    console.log('HOST : ' + window.location.hostname);\r\n    if (window.location.hostname == 'localhost') {\r\n      // Test en local\r\n      this.baseUrl = 'http://localhost:8080';\r\n    }\r\n    this.apiUrl = this.baseUrl + '/_ah/api/loseawards/v1';\r\n  }\r\n  \r\n  // ===== Accueil =====\r\n  \r\n  getHomeBundle() {\r\n    return this.http.get(this.apiUrl + '/home/bundle');\r\n  }\r\n  \r\n  reset() {\r\n    return this.http.delete(this.apiUrl + '/home/reset');\r\n  }\r\n  \r\n  clean() {\r\n    return this.http.get(this.apiUrl + '/home/clean');\r\n  }\r\n  \r\n  // ===== Utilisateurs =====\r\n\r\n  getUserBundle() {\r\n    return this.http.get(this.apiUrl + '/users/bundle');\r\n  }\r\n  \r\n  getUsers() {\r\n    return this.http.get(this.apiUrl + '/users');\r\n  }\r\n  \r\n  addUser(user) {\r\n    return this.http.post(this.apiUrl + '/users', user);\r\n  }\r\n  \r\n  updateUser(user) {\r\n    return this.http.put(this.apiUrl + '/users/' + user.id, user);\r\n  }\r\n  \r\n  deleteUser(user) {\r\n    return this.http.delete(this.apiUrl + '/users/' + user.id);\r\n  }\r\n  \r\n  // ===== Catégories =====\r\n  \r\n  getCategories() {\r\n    return this.http.get(this.apiUrl + '/categories');\r\n  }\r\n  \r\n  addCategory(category) {\r\n    return this.http.post(this.apiUrl + '/categories', category);\r\n  }\r\n  \r\n  updateCategory(category) {\r\n    return this.http.put(this.apiUrl + '/categories/' + category.id, category);\r\n  }\r\n  \r\n  deleteCategory(category) {\r\n    return this.http.delete(this.apiUrl + '/categories/' + category.id);\r\n  }\r\n  \r\n  // ===== Nominations =====\r\n  \r\n  getNominationBundle() {\r\n    return this.http.get(this.apiUrl + '/nominations/bundle');\r\n  }\r\n  \r\n  addNomination(nomination) {\r\n    return this.http.post(this.apiUrl + '/nominations', nomination);\r\n  }\r\n  \r\n  deleteNomination(nomination) {\r\n    return this.http.delete(this.apiUrl + '/nominations/' + nomination.id);\r\n  }\r\n  \r\n  updateNomination(nomination) {\r\n    return this.http.put(this.apiUrl + '/nominations/' + nomination.id, nomination);\r\n  }\r\n  \r\n  getNominationImageURL(imageId) {\r\n    return this.baseUrl + '/images/' + imageId;\r\n  }\r\n  \r\n  sendNominationsByMail(address) {\r\n    let params = new HttpParams();\r\n    params = params.append('address', address);\r\n    \r\n    return this.http.get(this.apiUrl + '/nominations/mail', { params });\r\n  }\r\n  \r\n  // ===== Cache et utilisateur identifié\r\n  \r\n  getCachedUsers() {\r\n    return this.cachedUsers;\r\n  }\r\n  \r\n  setCachedUsers(users) {\r\n    this.cachedUsers = users;\r\n    \r\n    if (this.identifiedUser != null) {\r\n      for (let user of this.cachedUsers) {\r\n        if (this.identifiedUser.id == user.id) {\r\n          this.identifiedUser = user;\r\n          break; \r\n        }        \r\n      }\r\n    }\r\n  }\r\n  \r\n  getIdentifiedUser() {\r\n    return this.identifiedUser;\r\n  }\r\n  \r\n  setIdentifiedUser(user) {\r\n    this.identifiedUser = user;\r\n  }\r\n  \r\n  isAdminConnected() {\r\n    if (this.cachedUsers == null || this.cachedUsers.length == 0) {\r\n      // S'il n'y a pas encore d'utilisateur, on est admin\r\n      return true;\r\n    }\r\n    let user = this.getIdentifiedUser();\r\n    return (user != null && user.firstName == 'Thierry');\r\n  }\r\n  \r\n  updateCachedUser(user) {\r\n    for (let i = 0; i < this.cachedUsers.length; i++) {\r\n      if (this.cachedUsers[i].id == user.id) {\r\n        this.cachedUsers[i] = user;\r\n        break;\r\n      }\r\n    }\r\n  }\r\n  \r\n  addCachedUser(user) {\r\n    let inserted = false;\r\n    for (let i = 0; i < this.cachedUsers.length; i++) {\r\n      if (user.firstName < this.cachedUsers[i].firstName) {\r\n        this.cachedUsers.splice(i, 0, user);\r\n        inserted = true;\r\n        break;\r\n      }\r\n    }\r\n    if (!inserted) {\r\n      this.cachedUsers.push(user);\r\n    }\r\n  }\r\n  \r\n  getCachedCategories() {\r\n    return this.cachedCategories;\r\n  }\r\n  \r\n  setCachedCategories(categories) {\r\n    this.cachedCategories = categories;\r\n  }\r\n  \r\n  deleteCachedUser(user) {\r\n    for (let i = 0; i < this.cachedUsers.length; i++) {\r\n      if (this.cachedUsers[i].id == user.id) {\r\n        this.cachedUsers.splice(i, 1);\r\n        break;\r\n      }\r\n    }\r\n  }\r\n  \r\n  updateCachedCategory(category) {\r\n    for (let i = 0; i < this.cachedCategories.length; i++) {\r\n      if (this.cachedCategories[i].id == category.id) {\r\n        this.cachedCategories[i] = category;\r\n        break;\r\n      }\r\n    }\r\n  }\r\n  \r\n  addCachedCategory(category) {\r\n    let inserted = false;\r\n    for (let i = 0; i < this.cachedCategories.length; i++) {\r\n      if (category.name < this.cachedCategories[i].name) {\r\n        this.cachedCategories.splice(i, 0, category);\r\n        inserted = true;\r\n        break;\r\n      }\r\n    }\r\n    if (!inserted) {\r\n      this.cachedCategories.push(category);\r\n    }\r\n  }\r\n  \r\n  deleteCachedCategory(category) {\r\n    for (let i = 0; i < this.cachedCategories.length; i++) {\r\n      if (this.cachedCategories[i].id == category.id) {\r\n        this.cachedCategories.splice(i, 1);\r\n        break;\r\n      }\r\n    }\r\n  }\r\n  \r\n  // ===== Commentaires =====\r\n  \r\n  getCommentsByNominations() {\r\n    return this.http.get(this.apiUrl + '/comments/group');\r\n  }\r\n  \r\n  addComment(comment) {\r\n    return this.http.post(this.apiUrl + '/comments', comment);\r\n  }\r\n  \r\n  deleteComment(comment) {\r\n    return this.http.delete(this.apiUrl + '/comments/' + comment.id);\r\n  }\r\n  \r\n  updateComment(comment) {\r\n    return this.http.put(this.apiUrl + '/comments/' + comment.id, comment);\r\n  }\r\n  \r\n  // ===== Avatars =====\r\n  \r\n  getAvatarURL(avatarId) {\r\n    // return this.apiUrl + '/avatars/' + avatarId;\r\n    return this.baseUrl + '/avatars/' + avatarId;\r\n  }\r\n  \r\n  getAvatar(avatarId) {\r\n    return this.http.get(this.apiUrl + '/avatars/' + avatarId);\r\n  }\r\n  \r\n  // ===== Images =====\r\n\r\n  getImageBundle() {\r\n    return this.http.get(this.apiUrl + '/images/bundle');\r\n  }\r\n  \r\n  getImageURL(imageId) {\r\n    return this.apiUrl + '/images/' + imageId;\r\n  }\r\n  \r\n  // ===== Votes =====\r\n  \r\n  addVotes(votes) {\r\n    return this.http.post(this.apiUrl + '/votes/bulk', { 'votes': votes });\r\n  }\r\n  \r\n  getVoteResult() {\r\n    return this.http.get(this.apiUrl + '/votes/result');\r\n  }\r\n  \r\n  getVotesByUser(userId) {\r\n    let params = new HttpParams();\r\n    params = params.append('userId', userId);\r\n    \r\n    return this.http.get(this.apiUrl + '/votes', { params });\r\n  }\r\n  \r\n  deleteVotes() {\r\n    return this.http.delete(this.apiUrl + '/votes');\r\n  }\r\n  \r\n  addDecisions(decisions) {\r\n    return this.http.post(this.apiUrl + '/decisions/bulk', { 'decisions': decisions });\r\n  }\r\n  \r\n  // ===== Variables globales =====\r\n  \r\n  updateGlobal(global) {\r\n    return this.http.put(this.apiUrl + '/globals/' + global.id, global);\r\n  }\r\n  \r\n  updateGlobals(globals) {\r\n    return this.http.put(this.apiUrl + '/globals/bulk', globals);\r\n  }\r\n\r\n  getCachedGlobals() {\r\n    return this.cachedGlobals;\r\n  }\r\n  \r\n  setCachedGlobals(globals) {\r\n    this.cachedGlobals = globals;\r\n  }\r\n  \r\n  // ===== Archives =====\r\n  \r\n  getArchiveBundle() {\r\n    return this.http.get(this.apiUrl + '/archives/bundle');\r\n  }\r\n  \r\n  getArchiveUsers() {\r\n    return this.http.get(this.apiUrl + '/archiveusers');\r\n  }\r\n  \r\n  addArchiveUser(user) {\r\n    return this.http.post(this.apiUrl + '/archiveusers', user);\r\n  }\r\n  \r\n  updateArchiveUser(user) {\r\n    return this.http.put(this.apiUrl + '/archiveusers/' + user.id, user);\r\n  }\r\n  \r\n  deleteArchiveUser(user) {\r\n    return this.http.delete(this.apiUrl + '/archiveusers/' + user.id);\r\n  }\r\n  \r\n  getArchiveCategories() {\r\n    return this.http.get(this.apiUrl + '/archivecategories');\r\n  }\r\n  \r\n  addArchiveCategory(category) {\r\n    return this.http.post(this.apiUrl + '/archivecategories', category);\r\n  }\r\n  \r\n  updateArchiveCategory(category) {\r\n    return this.http.put(this.apiUrl + '/archivecategories/' + category.id, category);\r\n  }\r\n  \r\n  deleteArchiveCategory(category) {\r\n    return this.http.delete(this.apiUrl + '/archivecategories/' + category.id);\r\n  }\r\n  \r\n  addArchive(archive) {\r\n    return this.http.post(this.apiUrl + '/archives', archive);\r\n  }\r\n  \r\n  deleteArchive(archive) {\r\n    return this.http.delete(this.apiUrl + '/archives/' + archive.id);\r\n  }\r\n  \r\n  addArchiveWithAwardsAndReport(archiveWithAwards) {\r\n    return this.http.post(this.apiUrl + '/archives/awards', archiveWithAwards);\r\n  }\r\n  \r\n  updateArchiveWithAwardsAndReport(archiveWithAwards) {\r\n    return this.http.put(this.apiUrl + '/archives/awards/' + archiveWithAwards.archive.id, archiveWithAwards);\r\n  }\r\n  \r\n  /*\r\n  addArchiveAwards(awards) {\r\n    return this.http.post(this.apiUrl + '/archiveawards/bulk', awards);\r\n  }\r\n  \r\n  getArchiveAwards(year) {\r\n    let params = new HttpParams();\r\n    params = params.append('year', year);\r\n    \r\n    return this.http.get(this.apiUrl + '/archiveawards', { params });\r\n  }\r\n  */\r\n  \r\n  getArchiveAwardsAndReport(year) {\r\n    let params = new HttpParams();\r\n    params = params.append('year', year);\r\n    \r\n    return this.http.get(this.apiUrl + '/archiveawards/report', { params });\r\n  }\r\n  \r\n  linkCategories() {\r\n    return this.http.get(this.apiUrl + '/archives/categoriesLinks');\r\n  }\r\n  \r\n  createArchiveFromVoteResult(categoriesLinks) {\r\n    return this.http.post(this.apiUrl + '/archives/fromVoteResult', categoriesLinks);\r\n  }\r\n  \r\n  // ===== Statistiques =====\r\n  \r\n  getStatCategory(category) {\r\n    let params = new HttpParams();\r\n    params = params.append('categoryId', category.id);\r\n    \r\n    return this.http.get(this.apiUrl + '/archiveawards/statcategory', { params });\r\n  }\r\n  \r\n  getStatCategoryGrandChampion() {\r\n    return this.http.get(this.apiUrl + '/archiveawards/statcategory');\r\n  }\r\n  \r\n  getStatUser(user) {\r\n    let params = new HttpParams();\r\n    params = params.append('userId', user.id);\r\n    \r\n    return this.http.get(this.apiUrl + '/archiveawards/statuser', { params });\r\n  }\r\n  \r\n  getStatRecords() {\r\n    return this.http.get(this.apiUrl + '/archiveawards/statrecords');\r\n  }\r\n  \r\n  // ===== Imports =====\r\n  \r\n  restoreByURL(restoreURL) {\r\n    return this.http.post(this.apiUrl + '/restore/url', restoreURL);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/backend/backend.ts"],"sourceRoot":""}